!function(){"use strict";function t(t,e){let n;if(void 0===e)for(const e of t)null!=e&&(n<e||void 0===n&&e>=e)&&(n=e);else{let o=-1;for(let r of t)null!=(r=e(r,++o,t))&&(n<r||void 0===n&&r>=r)&&(n=r)}return n}function e(t,e){let n=0;if(void 0===e)for(let e of t)(e=+e)&&(n+=e);else{let o=-1;for(let r of t)(r=+e(r,++o,t))&&(n+=r)}return n}function n(t,e){return t.sourceLinks.length?t.depth:e-1}function o(t){return function(){return t}}function r(t,e){return s(t.source,e.source)||t.index-e.index}function i(t,e){return s(t.target,e.target)||t.index-e.index}function s(t,e){return t.y0-e.y0}function c(t){return t.value}function u(t){return t.index}function l(t){return t.nodes}function a(t){return t.links}function f(t,e){const n=t.get(e);if(!n)throw new Error("missing: "+e);return n}function h({nodes:t}){for(const e of t){let t=e.y0,n=t;for(const n of e.sourceLinks)n.y0=t+n.width/2,t+=n.width;for(const t of e.targetLinks)t.y1=n+t.width/2,n+=t.width}}function g(){let g,d,p,y=0,m=0,x=1,v=1,_=24,k=8,w=u,b=n,$=l,M=a,F=6;function L(){const t={nodes:$.apply(null,arguments),links:M.apply(null,arguments)};return D(t),S(t),E(t),I(t),A(t),h(t),t}function D({nodes:t,links:e}){for(const[e,n]of t.entries())n.index=e,n.sourceLinks=[],n.targetLinks=[];const n=new Map(t.map(((e,n)=>[w(e,n,t),e])));for(const[t,o]of e.entries()){o.index=t;let{source:e,target:r}=o;"object"!=typeof e&&(e=o.source=f(n,e)),"object"!=typeof r&&(r=o.target=f(n,r)),e.sourceLinks.push(o),r.targetLinks.push(o)}if(null!=p)for(const{sourceLinks:e,targetLinks:n}of t)e.sort(p),n.sort(p)}function S({nodes:t}){for(const n of t)n.value=void 0===n.fixedValue?Math.max(e(n.sourceLinks,c),e(n.targetLinks,c)):n.fixedValue}function E({nodes:t}){const e=t.length;let n=new Set(t),o=new Set,r=0;for(;n.size;){for(const t of n){t.depth=r;for(const{target:e}of t.sourceLinks)o.add(e)}if(++r>e)throw new Error("circular link");n=o,o=new Set}}function I({nodes:t}){const e=t.length;let n=new Set(t),o=new Set,r=0;for(;n.size;){for(const t of n){t.height=r;for(const{source:e}of t.targetLinks)o.add(e)}if(++r>e)throw new Error("circular link");n=o,o=new Set}}function A(n){const o=function({nodes:e}){const n=t(e,(t=>t.depth))+1,o=(x-y-_)/(n-1),r=new Array(n);for(const t of e){const e=Math.max(0,Math.min(n-1,Math.floor(b.call(null,t,n))));t.layer=e,t.x0=y+e*o,t.x1=t.x0+_,r[e]?r[e].push(t):r[e]=[t]}if(d)for(const t of r)t.sort(d);return r}(n);g=Math.min(k,(v-m)/(t(o,(t=>t.length))-1)),function(t){const n=function(t,e){let n;if(void 0===e)for(const e of t)null!=e&&(n>e||void 0===n&&e>=e)&&(n=e);else{let o=-1;for(let r of t)null!=(r=e(r,++o,t))&&(n>r||void 0===n&&r>=r)&&(n=r)}return n}(t,(t=>(v-m-(t.length-1)*g)/e(t,c)));for(const e of t){let t=m;for(const o of e){o.y0=t,o.y1=t+o.value*n,t=o.y1+g;for(const t of o.sourceLinks)t.width=t.value*n}t=(v-t+g)/(e.length+1);for(let n=0;n<e.length;++n){const o=e[n];o.y0+=t*(n+1),o.y1+=t*(n+1)}j(e)}}(o);for(let t=0;t<F;++t){const e=Math.pow(.99,t),n=Math.max(1-e,(t+1)/F);C(o,e,n),R(o,e,n)}}function R(t,e,n){for(let o=1,r=t.length;o<r;++o){const r=t[o];for(const t of r){let n=0,o=0;for(const{source:e,value:r}of t.targetLinks){let i=r*(t.layer-e.layer);n+=B(e,t)*i,o+=i}if(!(o>0))continue;let r=(n/o-t.y0)*e;t.y0+=r,t.y1+=r,P(t)}void 0===d&&r.sort(s),N(r,n)}}function C(t,e,n){for(let o=t.length-2;o>=0;--o){const r=t[o];for(const t of r){let n=0,o=0;for(const{target:e,value:r}of t.sourceLinks){let i=r*(e.layer-t.layer);n+=O(t,e)*i,o+=i}if(!(o>0))continue;let r=(n/o-t.y0)*e;t.y0+=r,t.y1+=r,P(t)}void 0===d&&r.sort(s),N(r,n)}}function N(t,e){const n=t.length>>1,o=t[n];z(t,o.y0-g,n-1,e),T(t,o.y1+g,n+1,e),z(t,v,t.length-1,e),T(t,m,0,e)}function T(t,e,n,o){for(;n<t.length;++n){const r=t[n],i=(e-r.y0)*o;i>1e-6&&(r.y0+=i,r.y1+=i),e=r.y1+g}}function z(t,e,n,o){for(;n>=0;--n){const r=t[n],i=(r.y1-e)*o;i>1e-6&&(r.y0-=i,r.y1-=i),e=r.y0-g}}function P({sourceLinks:t,targetLinks:e}){if(void 0===p){for(const{source:{sourceLinks:t}}of e)t.sort(i);for(const{target:{targetLinks:e}}of t)e.sort(r)}}function j(t){if(void 0===p)for(const{sourceLinks:e,targetLinks:n}of t)e.sort(i),n.sort(r)}function B(t,e){let n=t.y0-(t.sourceLinks.length-1)*g/2;for(const{target:o,width:r}of t.sourceLinks){if(o===e)break;n+=r+g}for(const{source:o,width:r}of e.targetLinks){if(o===t)break;n-=r}return n}function O(t,e){let n=e.y0-(e.targetLinks.length-1)*g/2;for(const{source:o,width:r}of e.targetLinks){if(o===t)break;n+=r+g}for(const{target:o,width:r}of t.sourceLinks){if(o===e)break;n-=r}return n}return L.update=function(t){return h(t),t},L.nodeId=function(t){return arguments.length?(w="function"==typeof t?t:o(t),L):w},L.nodeAlign=function(t){return arguments.length?(b="function"==typeof t?t:o(t),L):b},L.nodeSort=function(t){return arguments.length?(d=t,L):d},L.nodeWidth=function(t){return arguments.length?(_=+t,L):_},L.nodePadding=function(t){return arguments.length?(k=g=+t,L):k},L.nodes=function(t){return arguments.length?($="function"==typeof t?t:o(t),L):$},L.links=function(t){return arguments.length?(M="function"==typeof t?t:o(t),L):M},L.linkSort=function(t){return arguments.length?(p=t,L):p},L.size=function(t){return arguments.length?(y=m=0,x=+t[0],v=+t[1],L):[x-y,v-m]},L.extent=function(t){return arguments.length?(y=+t[0][0],x=+t[1][0],m=+t[0][1],v=+t[1][1],L):[[y,m],[x,v]]},L.iterations=function(t){return arguments.length?(F=+t,L):F},L}var d=Math.PI,p=2*d,y=1e-6,m=p-y;function x(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function v(){return new x}function _(t){return function(){return t}}function k(t){return t[0]}function w(t){return t[1]}x.prototype=v.prototype={constructor:x,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,o){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+o)},bezierCurveTo:function(t,e,n,o,r,i){this._+="C"+ +t+","+ +e+","+ +n+","+ +o+","+(this._x1=+r)+","+(this._y1=+i)},arcTo:function(t,e,n,o,r){t=+t,e=+e,n=+n,o=+o,r=+r;var i=this._x1,s=this._y1,c=n-t,u=o-e,l=i-t,a=s-e,f=l*l+a*a;if(r<0)throw new Error("negative radius: "+r);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(f>y)if(Math.abs(a*c-u*l)>y&&r){var h=n-i,g=o-s,p=c*c+u*u,m=h*h+g*g,x=Math.sqrt(p),v=Math.sqrt(f),_=r*Math.tan((d-Math.acos((p+f-m)/(2*x*v)))/2),k=_/v,w=_/x;Math.abs(k-1)>y&&(this._+="L"+(t+k*l)+","+(e+k*a)),this._+="A"+r+","+r+",0,0,"+ +(a*h>l*g)+","+(this._x1=t+w*c)+","+(this._y1=e+w*u)}else this._+="L"+(this._x1=t)+","+(this._y1=e);else;},arc:function(t,e,n,o,r,i){t=+t,e=+e,i=!!i;var s=(n=+n)*Math.cos(o),c=n*Math.sin(o),u=t+s,l=e+c,a=1^i,f=i?o-r:r-o;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+u+","+l:(Math.abs(this._x1-u)>y||Math.abs(this._y1-l)>y)&&(this._+="L"+u+","+l),n&&(f<0&&(f=f%p+p),f>m?this._+="A"+n+","+n+",0,1,"+a+","+(t-s)+","+(e-c)+"A"+n+","+n+",0,1,"+a+","+(this._x1=u)+","+(this._y1=l):f>y&&(this._+="A"+n+","+n+",0,"+ +(f>=d)+","+a+","+(this._x1=t+n*Math.cos(r))+","+(this._y1=e+n*Math.sin(r))))},rect:function(t,e,n,o){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +o+"h"+-n+"Z"},toString:function(){return this._}};var b=Array.prototype.slice;function $(t){return t.source}function M(t){return t.target}function F(t,e,n,o,r){t.moveTo(e,n),t.bezierCurveTo(e=(e+o)/2,n,e,r,o,r)}function L(){return function(t){var e=$,n=M,o=k,r=w,i=null;function s(){var s,c=b.call(arguments),u=e.apply(this,c),l=n.apply(this,c);if(i||(i=s=v()),t(i,+o.apply(this,(c[0]=u,c)),+r.apply(this,c),+o.apply(this,(c[0]=l,c)),+r.apply(this,c)),s)return i=null,s+""||null}return s.source=function(t){return arguments.length?(e=t,s):e},s.target=function(t){return arguments.length?(n=t,s):n},s.x=function(t){return arguments.length?(o="function"==typeof t?t:_(+t),s):o},s.y=function(t){return arguments.length?(r="function"==typeof t?t:_(+t),s):r},s.context=function(t){return arguments.length?(i=null==t?null:t,s):i},s}(F)}function D(t){return[t.source.x1,t.y0]}function S(t){return[t.target.x0,t.y1]}const E="#0E7FAB",I="#F8C738",A="#EC3500",R="#B8C30F",C=new Map(Object.entries({RF:{text:"Recettes de fonctionnement",color:A},RI:{text:"Recettes d'investissement",color:E},DF:{text:"Dépenses de fonctionnement",color:I},DI:{text:"Dépenses d'investissement",color:R},RF_DotEtat:{text:"Dotation de l'État",color:A},RF_FiscDirecte:{text:"Fiscalité directe",color:A},RF_FiscIndirecte:{text:"Fiscalité indirecte",color:A},RF_Divers:{text:"Recettes diverses",color:A},EP:{text:"Épargne",color:A},DF_Solidarite:{text:"Solidarité",color:I},DF_Interventions:{text:"Interventions (SDIS …)",color:I},DF_Autres:{text:"Autres (personnel …)",color:I},I_Emprunt:{text:"Emprunts",color:E},I_Autres:{text:"Autres recettes d'investissement",color:E},DI_Remboursement:{text:"Remboursement Emprunts",color:R},DI_Construction:{text:"ROUTES + COLLÈGES + BÂTIMENTS + AMÉNAGEMENT",color:R},DI_Subventions:{text:"Subventions",color:R}}).map((([t,e])=>[t,{id:t,...e}]))),N=[{source:C.get("RF_DotEtat"),target:C.get("RF"),value:187.1},{source:C.get("RF_FiscDirecte"),target:C.get("RF"),value:495.6},{source:C.get("RF_FiscIndirecte"),target:C.get("RF"),value:745},{source:C.get("RF_Divers"),target:C.get("RF"),value:217.7},{source:C.get("RF"),target:C.get("DF"),value:1495.3},{source:C.get("RF"),target:C.get("EP"),value:150.2},{source:C.get("DF"),target:C.get("DF_Solidarite"),value:952.3},{source:C.get("DF"),target:C.get("DF_Interventions"),value:169.9},{source:C.get("DF"),target:C.get("DF_Autres"),value:373},{source:C.get("EP"),target:C.get("DI"),value:150.2},{source:C.get("I_Emprunt"),target:C.get("RI"),value:70},{source:C.get("I_Autres"),target:C.get("RI"),value:36.2},{source:C.get("RI"),target:C.get("DI"),value:106.2},{source:C.get("DI"),target:C.get("DI_Remboursement"),value:66.6},{source:C.get("DI"),target:C.get("DI_Construction"),value:141.7},{source:C.get("DI"),target:C.get("DI_Subventions"),value:58.7}];function T(){}function z(t){return t()}function P(){return Object.create(null)}function j(t){t.forEach(z)}function B(t){return"function"==typeof t}function O(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function q(t,e){t.appendChild(e)}function G(t,e,n){t.insertBefore(e,n||null)}function Z(t){t.parentNode.removeChild(t)}function U(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function V(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function W(t){return document.createTextNode(t)}function X(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function Q(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}let Y;function H(t){Y=t}const J=[],K=[],tt=[],et=[],nt=Promise.resolve();let ot=!1;function rt(t){tt.push(t)}let it=!1;const st=new Set;function ct(){if(!it){it=!0;do{for(let t=0;t<J.length;t+=1){const e=J[t];H(e),ut(e.$$)}for(H(null),J.length=0;K.length;)K.pop()();for(let t=0;t<tt.length;t+=1){const e=tt[t];st.has(e)||(st.add(e),e())}tt.length=0}while(J.length);for(;et.length;)et.pop()();ot=!1,it=!1,st.clear()}}function ut(t){if(null!==t.fragment){t.update(),j(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(rt)}}const lt=new Set;function at(t,e){-1===t.$$.dirty[0]&&(J.push(t),ot||(ot=!0,nt.then(ct)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function ft(t,e,n,o,r,i,s=[-1]){const c=Y;H(t);const u=t.$$={fragment:null,ctx:null,props:i,update:T,not_equal:r,bound:P(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(c?c.$$.context:e.context||[]),callbacks:P(),dirty:s,skip_bound:!1};let l=!1;if(u.ctx=n?n(t,e.props||{},((e,n,...o)=>{const i=o.length?o[0]:n;return u.ctx&&r(u.ctx[e],u.ctx[e]=i)&&(!u.skip_bound&&u.bound[e]&&u.bound[e](i),l&&at(t,e)),n})):[],u.update(),l=!0,j(u.before_update),u.fragment=!!o&&o(u.ctx),e.target){if(e.hydrate){const t=(h=e.target,Array.from(h.childNodes));u.fragment&&u.fragment.l(t),t.forEach(Z)}else u.fragment&&u.fragment.c();e.intro&&((a=t.$$.fragment)&&a.i&&(lt.delete(a),a.i(f))),function(t,e,n,o){const{fragment:r,on_mount:i,on_destroy:s,after_update:c}=t.$$;r&&r.m(e,n),o||rt((()=>{const e=i.map(z).filter(B);s?s.push(...e):j(e),t.$$.on_mount=[]})),c.forEach(rt)}(t,e.target,e.anchor,e.customElement),ct()}var a,f,h;H(c)}function ht(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,o=t.slice(0,n);return[o.length>1?o[0]+o.slice(2):o,+t.slice(n+1)]}var gt,dt=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function pt(t){if(!(e=dt.exec(t)))throw new Error("invalid format: "+t);var e;return new yt({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function yt(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function mt(t,e){var n=ht(t,e);if(!n)return t+"";var o=n[0],r=n[1];return r<0?"0."+new Array(-r).join("0")+o:o.length>r+1?o.slice(0,r+1)+"."+o.slice(r+1):o+new Array(r-o.length+2).join("0")}pt.prototype=yt.prototype,yt.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var xt={"%":(t,e)=>(100*t).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>mt(100*t,e),r:mt,s:function(t,e){var n=ht(t,e);if(!n)return t+"";var o=n[0],r=n[1],i=r-(gt=3*Math.max(-8,Math.min(8,Math.floor(r/3))))+1,s=o.length;return i===s?o:i>s?o+new Array(i-s+1).join("0"):i>0?o.slice(0,i)+"."+o.slice(i):"0."+new Array(1-i).join("0")+ht(t,Math.max(0,e+i-1))[0]},X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function vt(t){return t}var _t,kt,wt=Array.prototype.map,bt=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function $t(t){var e,n,o=void 0===t.grouping||void 0===t.thousands?vt:(e=wt.call(t.grouping,Number),n=t.thousands+"",function(t,o){for(var r=t.length,i=[],s=0,c=e[0],u=0;r>0&&c>0&&(u+c+1>o&&(c=Math.max(1,o-u)),i.push(t.substring(r-=c,r+c)),!((u+=c+1)>o));)c=e[s=(s+1)%e.length];return i.reverse().join(n)}),r=void 0===t.currency?"":t.currency[0]+"",i=void 0===t.currency?"":t.currency[1]+"",s=void 0===t.decimal?".":t.decimal+"",c=void 0===t.numerals?vt:function(t){return function(e){return e.replace(/[0-9]/g,(function(e){return t[+e]}))}}(wt.call(t.numerals,String)),u=void 0===t.percent?"%":t.percent+"",l=void 0===t.minus?"−":t.minus+"",a=void 0===t.nan?"NaN":t.nan+"";function f(t){var e=(t=pt(t)).fill,n=t.align,f=t.sign,h=t.symbol,g=t.zero,d=t.width,p=t.comma,y=t.precision,m=t.trim,x=t.type;"n"===x?(p=!0,x="g"):xt[x]||(void 0===y&&(y=12),m=!0,x="g"),(g||"0"===e&&"="===n)&&(g=!0,e="0",n="=");var v="$"===h?r:"#"===h&&/[boxX]/.test(x)?"0"+x.toLowerCase():"",_="$"===h?i:/[%p]/.test(x)?u:"",k=xt[x],w=/[defgprs%]/.test(x);function b(t){var r,i,u,h=v,b=_;if("c"===x)b=k(t)+b,t="";else{var $=(t=+t)<0||1/t<0;if(t=isNaN(t)?a:k(Math.abs(t),y),m&&(t=function(t){t:for(var e,n=t.length,o=1,r=-1;o<n;++o)switch(t[o]){case".":r=e=o;break;case"0":0===r&&(r=o),e=o;break;default:if(!+t[o])break t;r>0&&(r=0)}return r>0?t.slice(0,r)+t.slice(e+1):t}(t)),$&&0==+t&&"+"!==f&&($=!1),h=($?"("===f?f:l:"-"===f||"("===f?"":f)+h,b=("s"===x?bt[8+gt/3]:"")+b+($&&"("===f?")":""),w)for(r=-1,i=t.length;++r<i;)if(48>(u=t.charCodeAt(r))||u>57){b=(46===u?s+t.slice(r+1):t.slice(r))+b,t=t.slice(0,r);break}}p&&!g&&(t=o(t,1/0));var M=h.length+t.length+b.length,F=M<d?new Array(d-M+1).join(e):"";switch(p&&g&&(t=o(F+t,F.length?d-b.length:1/0),F=""),n){case"<":t=h+t+b+F;break;case"=":t=h+F+t+b;break;case"^":t=F.slice(0,M=F.length>>1)+h+t+b+F.slice(M);break;default:t=F+h+t+b}return c(t)}return y=void 0===y?6:/[gprs]/.test(x)?Math.max(1,Math.min(21,y)):Math.max(0,Math.min(20,y)),b.toString=function(){return t+""},b}return{format:f,formatPrefix:function(t,e){var n=f(((t=pt(t)).type="f",t)),o=3*Math.max(-8,Math.min(8,Math.floor(function(t){return(t=ht(Math.abs(t)))?t[1]:NaN}(e)/3))),r=Math.pow(10,-o),i=bt[8+o/3];return function(t){return n(r*t)+i}}}}function Mt(t,e,n){const o=t.slice();return o[5]=e[n].x0,o[6]=e[n].y0,o[7]=e[n].x1,o[8]=e[n].y1,o[9]=e[n].text,o}function Ft(t,e,n){const o=t.slice();return o[12]=e[n],o}function Lt(t,e,n){const o=t.slice();return o[5]=e[n].x0,o[6]=e[n].y0,o[7]=e[n].x1,o[8]=e[n].y1,o[9]=e[n].text,o[15]=e[n].value,o[16]=e[n].color,o}function Dt(t){let e,n,o,r,i,s,c,u,l=`${t[9]}\n${kt(t[15])}`;return{c(){e=V("rect"),n=V("title"),o=W(l),X(e,"x",r=t[5]),X(e,"y",i=t[6]),X(e,"height",s=t[8]-t[6]),X(e,"width",c=t[7]-t[5]),X(e,"fill",u=t[16])},m(t,r){G(t,e,r),q(e,n),q(n,o)},p(t,n){4&n&&l!==(l=`${t[9]}\n${kt(t[15])}`)&&Q(o,l),4&n&&r!==(r=t[5])&&X(e,"x",r),4&n&&i!==(i=t[6])&&X(e,"y",i),4&n&&s!==(s=t[8]-t[6])&&X(e,"height",s),4&n&&c!==(c=t[7]-t[5])&&X(e,"width",c),4&n&&u!==(u=t[16])&&X(e,"fill",u)},d(t){t&&Z(e)}}}function St(t){let e,n,o,r,i,s,c,u,l,a,f,h,g,d=`${t[12].source.text} → ${t[12].target.text}\n${kt(t[12].value)}`;return{c(){e=V("g"),n=V("linearGradient"),o=V("stop"),i=V("stop"),u=V("path"),h=V("title"),g=W(d),X(o,"offset","0%"),X(o,"stop-color",r=t[12].source.color),X(i,"offset","100%"),X(i,"stop-color",s=t[12].target.color),X(n,"id",c=`link-${t[12].index}`),X(u,"d",l=t[4](t[12])),X(u,"stroke",a=`url('#link-${t[12].index}')`),X(u,"stroke-width",f=Math.max(1,t[12].width)),function(t,e,n,o){t.style.setProperty(e,n,o?"important":"")}(e,"mix-blend-mode","multiply")},m(t,r){G(t,e,r),q(e,n),q(n,o),q(n,i),q(e,u),q(e,h),q(h,g)},p(t,e){8&e&&r!==(r=t[12].source.color)&&X(o,"stop-color",r),8&e&&s!==(s=t[12].target.color)&&X(i,"stop-color",s),8&e&&c!==(c=`link-${t[12].index}`)&&X(n,"id",c),8&e&&l!==(l=t[4](t[12]))&&X(u,"d",l),8&e&&a!==(a=`url('#link-${t[12].index}')`)&&X(u,"stroke",a),8&e&&f!==(f=Math.max(1,t[12].width))&&X(u,"stroke-width",f),8&e&&d!==(d=`${t[12].source.text} → ${t[12].target.text}\n${kt(t[12].value)}`)&&Q(g,d)},d(t){t&&Z(e)}}}function Et(t){let e,n,o,r,i,s=t[9]+"";return{c(){e=V("text"),n=W(s),X(e,"x",o=t[5]<t[0]/2?t[7]+6:t[5]-6),X(e,"y",r=(t[8]+t[6])/2),X(e,"dy","0.35em"),X(e,"text-anchor",i=t[5]<t[0]/2?"start":"end")},m(t,o){G(t,e,o),q(e,n)},p(t,c){4&c&&s!==(s=t[9]+"")&&Q(n,s),5&c&&o!==(o=t[5]<t[0]/2?t[7]+6:t[5]-6)&&X(e,"x",o),4&c&&r!==(r=(t[8]+t[6])/2)&&X(e,"y",r),5&c&&i!==(i=t[5]<t[0]/2?"start":"end")&&X(e,"text-anchor",i)},d(t){t&&Z(e)}}}function It(t){let e,n,o,r,i,s=t[2],c=[];for(let e=0;e<s.length;e+=1)c[e]=Dt(Lt(t,s,e));let u=t[3],l=[];for(let e=0;e<u.length;e+=1)l[e]=St(Ft(t,u,e));let a=t[2],f=[];for(let e=0;e<a.length;e+=1)f[e]=Et(Mt(t,a,e));return{c(){e=V("svg"),n=V("g");for(let t=0;t<c.length;t+=1)c[t].c();o=V("g");for(let t=0;t<l.length;t+=1)l[t].c();r=V("g");for(let t=0;t<f.length;t+=1)f[t].c();X(n,"stroke","#666"),X(n,"stroke-width","0"),X(o,"fill","none"),X(o,"stroke-opacity","0.4"),X(r,"font-family","sans-serif"),X(r,"font-size","10"),X(e,"viewBox",i="0,0,"+t[0]+","+t[1])},m(t,i){G(t,e,i),q(e,n);for(let t=0;t<c.length;t+=1)c[t].m(n,null);q(e,o);for(let t=0;t<l.length;t+=1)l[t].m(o,null);q(e,r);for(let t=0;t<f.length;t+=1)f[t].m(r,null)},p(t,[h]){if(4&h){let e;for(s=t[2],e=0;e<s.length;e+=1){const o=Lt(t,s,e);c[e]?c[e].p(o,h):(c[e]=Dt(o),c[e].c(),c[e].m(n,null))}for(;e<c.length;e+=1)c[e].d(1);c.length=s.length}if(24&h){let e;for(u=t[3],e=0;e<u.length;e+=1){const n=Ft(t,u,e);l[e]?l[e].p(n,h):(l[e]=St(n),l[e].c(),l[e].m(o,null))}for(;e<l.length;e+=1)l[e].d(1);l.length=u.length}if(5&h){let e;for(a=t[2],e=0;e<a.length;e+=1){const n=Mt(t,a,e);f[e]?f[e].p(n,h):(f[e]=Et(n),f[e].c(),f[e].m(r,null))}for(;e<f.length;e+=1)f[e].d(1);f.length=a.length}3&h&&i!==(i="0,0,"+t[0]+","+t[1])&&X(e,"viewBox",i)},i:T,o:T,d(t){t&&Z(e),U(c,t),U(l,t),U(f,t)}}}function At(t,e,n){let{width:o}=e,{height:r}=e,{nodes:i}=e,{links:s}=e;const c=L().source(D).target(S);return t.$$set=t=>{"width"in t&&n(0,o=t.width),"height"in t&&n(1,r=t.height),"nodes"in t&&n(2,i=t.nodes),"links"in t&&n(3,s=t.links)},[o,r,i,s,c]}_t=$t({thousands:",",grouping:[3],currency:["$",""]}),kt=_t.format,_t.formatPrefix;console.log("nodesById, _links",C,N);const{nodes:Rt,links:Ct}=function({nodes:t,links:e,height:o,width:r}){return g().nodeId((t=>t.id)).nodeAlign(n).nodeWidth(15).nodePadding(15).extent([[1,5],[r-1,o-5]])({nodes:t,links:e})}({nodes:[...C.values()],links:N,height:600,width:954});console.log("nodes, links",Rt,Ct),new class extends class{$destroy(){!function(t,e){const n=t.$$;null!==n.fragment&&(j(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}(this,1),this.$destroy=T}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}{constructor(t){super(),ft(this,t,At,It,O,{width:0,height:1,nodes:2,links:3})}}({target:document.querySelector(".content"),props:{width:954,height:600,nodes:Rt,links:Ct}})}();
//# sourceMappingURL=bundle.js.map
