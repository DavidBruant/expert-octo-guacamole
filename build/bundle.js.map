{"version":3,"file":"bundle.js","sources":["../node_modules/d3-array/src/max.js","../node_modules/d3-array/src/sum.js","../node_modules/d3-sankey/src/align.js","../node_modules/d3-sankey/src/constant.js","../node_modules/d3-sankey/src/sankey.js","../node_modules/d3-array/src/min.js","../node_modules/d3-sankey/node_modules/d3-path/src/path.js","../node_modules/d3-sankey/node_modules/d3-shape/src/constant.js","../node_modules/d3-sankey/node_modules/d3-shape/src/point.js","../node_modules/d3-sankey/node_modules/d3-shape/src/array.js","../node_modules/d3-sankey/node_modules/d3-shape/src/link/index.js","../node_modules/d3-sankey/src/sankeyLinkHorizontal.js","../scripts/budgetData.js","../node_modules/svelte/internal/index.mjs","../node_modules/d3-format/src/formatDecimal.js","../node_modules/d3-format/src/formatSpecifier.js","../node_modules/d3-format/src/formatPrefixAuto.js","../node_modules/d3-format/src/formatRounded.js","../node_modules/d3-format/src/formatTypes.js","../node_modules/d3-format/src/identity.js","../node_modules/d3-format/src/locale.js","../node_modules/d3-format/src/defaultLocale.js","../node_modules/d3-format/src/formatGroup.js","../node_modules/d3-format/src/formatNumerals.js","../node_modules/d3-format/src/formatTrim.js","../node_modules/d3-format/src/exponent.js","../scripts/components/Sankey.svelte","../scripts/main.js","../scripts/sankeyLayout.js"],"sourcesContent":["export default function max(values, valueof) {\n  let max;\n  if (valueof === undefined) {\n    for (const value of values) {\n      if (value != null\n          && (max < value || (max === undefined && value >= value))) {\n        max = value;\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null\n          && (max < value || (max === undefined && value >= value))) {\n        max = value;\n      }\n    }\n  }\n  return max;\n}\n","export default function sum(values, valueof) {\n  let sum = 0;\n  if (valueof === undefined) {\n    for (let value of values) {\n      if (value = +value) {\n        sum += value;\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if (value = +valueof(value, ++index, values)) {\n        sum += value;\n      }\n    }\n  }\n  return sum;\n}\n","import {min} from \"d3-array\";\n\nfunction targetDepth(d) {\n  return d.target.depth;\n}\n\nexport function left(node) {\n  return node.depth;\n}\n\nexport function right(node, n) {\n  return n - 1 - node.height;\n}\n\nexport function justify(node, n) {\n  return node.sourceLinks.length ? node.depth : n - 1;\n}\n\nexport function center(node) {\n  return node.targetLinks.length ? node.depth\n      : node.sourceLinks.length ? min(node.sourceLinks, targetDepth) - 1\n      : 0;\n}\n","export default function constant(x) {\n  return function() {\n    return x;\n  };\n}\n","import {max, min, sum} from \"d3-array\";\nimport {justify} from \"./align.js\";\nimport constant from \"./constant.js\";\n\nfunction ascendingSourceBreadth(a, b) {\n  return ascendingBreadth(a.source, b.source) || a.index - b.index;\n}\n\nfunction ascendingTargetBreadth(a, b) {\n  return ascendingBreadth(a.target, b.target) || a.index - b.index;\n}\n\nfunction ascendingBreadth(a, b) {\n  return a.y0 - b.y0;\n}\n\nfunction value(d) {\n  return d.value;\n}\n\nfunction defaultId(d) {\n  return d.index;\n}\n\nfunction defaultNodes(graph) {\n  return graph.nodes;\n}\n\nfunction defaultLinks(graph) {\n  return graph.links;\n}\n\nfunction find(nodeById, id) {\n  const node = nodeById.get(id);\n  if (!node) throw new Error(\"missing: \" + id);\n  return node;\n}\n\nfunction computeLinkBreadths({nodes}) {\n  for (const node of nodes) {\n    let y0 = node.y0;\n    let y1 = y0;\n    for (const link of node.sourceLinks) {\n      link.y0 = y0 + link.width / 2;\n      y0 += link.width;\n    }\n    for (const link of node.targetLinks) {\n      link.y1 = y1 + link.width / 2;\n      y1 += link.width;\n    }\n  }\n}\n\nexport default function Sankey() {\n  let x0 = 0, y0 = 0, x1 = 1, y1 = 1; // extent\n  let dx = 24; // nodeWidth\n  let dy = 8, py; // nodePadding\n  let id = defaultId;\n  let align = justify;\n  let sort;\n  let linkSort;\n  let nodes = defaultNodes;\n  let links = defaultLinks;\n  let iterations = 6;\n\n  function sankey() {\n    const graph = {nodes: nodes.apply(null, arguments), links: links.apply(null, arguments)};\n    computeNodeLinks(graph);\n    computeNodeValues(graph);\n    computeNodeDepths(graph);\n    computeNodeHeights(graph);\n    computeNodeBreadths(graph);\n    computeLinkBreadths(graph);\n    return graph;\n  }\n\n  sankey.update = function(graph) {\n    computeLinkBreadths(graph);\n    return graph;\n  };\n\n  sankey.nodeId = function(_) {\n    return arguments.length ? (id = typeof _ === \"function\" ? _ : constant(_), sankey) : id;\n  };\n\n  sankey.nodeAlign = function(_) {\n    return arguments.length ? (align = typeof _ === \"function\" ? _ : constant(_), sankey) : align;\n  };\n\n  sankey.nodeSort = function(_) {\n    return arguments.length ? (sort = _, sankey) : sort;\n  };\n\n  sankey.nodeWidth = function(_) {\n    return arguments.length ? (dx = +_, sankey) : dx;\n  };\n\n  sankey.nodePadding = function(_) {\n    return arguments.length ? (dy = py = +_, sankey) : dy;\n  };\n\n  sankey.nodes = function(_) {\n    return arguments.length ? (nodes = typeof _ === \"function\" ? _ : constant(_), sankey) : nodes;\n  };\n\n  sankey.links = function(_) {\n    return arguments.length ? (links = typeof _ === \"function\" ? _ : constant(_), sankey) : links;\n  };\n\n  sankey.linkSort = function(_) {\n    return arguments.length ? (linkSort = _, sankey) : linkSort;\n  };\n\n  sankey.size = function(_) {\n    return arguments.length ? (x0 = y0 = 0, x1 = +_[0], y1 = +_[1], sankey) : [x1 - x0, y1 - y0];\n  };\n\n  sankey.extent = function(_) {\n    return arguments.length ? (x0 = +_[0][0], x1 = +_[1][0], y0 = +_[0][1], y1 = +_[1][1], sankey) : [[x0, y0], [x1, y1]];\n  };\n\n  sankey.iterations = function(_) {\n    return arguments.length ? (iterations = +_, sankey) : iterations;\n  };\n\n  function computeNodeLinks({nodes, links}) {\n    for (const [i, node] of nodes.entries()) {\n      node.index = i;\n      node.sourceLinks = [];\n      node.targetLinks = [];\n    }\n    const nodeById = new Map(nodes.map((d, i) => [id(d, i, nodes), d]));\n    for (const [i, link] of links.entries()) {\n      link.index = i;\n      let {source, target} = link;\n      if (typeof source !== \"object\") source = link.source = find(nodeById, source);\n      if (typeof target !== \"object\") target = link.target = find(nodeById, target);\n      source.sourceLinks.push(link);\n      target.targetLinks.push(link);\n    }\n    if (linkSort != null) {\n      for (const {sourceLinks, targetLinks} of nodes) {\n        sourceLinks.sort(linkSort);\n        targetLinks.sort(linkSort);\n      }\n    }\n  }\n\n  function computeNodeValues({nodes}) {\n    for (const node of nodes) {\n      node.value = node.fixedValue === undefined\n          ? Math.max(sum(node.sourceLinks, value), sum(node.targetLinks, value))\n          : node.fixedValue;\n    }\n  }\n\n  function computeNodeDepths({nodes}) {\n    const n = nodes.length;\n    let current = new Set(nodes);\n    let next = new Set;\n    let x = 0;\n    while (current.size) {\n      for (const node of current) {\n        node.depth = x;\n        for (const {target} of node.sourceLinks) {\n          next.add(target);\n        }\n      }\n      if (++x > n) throw new Error(\"circular link\");\n      current = next;\n      next = new Set;\n    }\n  }\n\n  function computeNodeHeights({nodes}) {\n    const n = nodes.length;\n    let current = new Set(nodes);\n    let next = new Set;\n    let x = 0;\n    while (current.size) {\n      for (const node of current) {\n        node.height = x;\n        for (const {source} of node.targetLinks) {\n          next.add(source);\n        }\n      }\n      if (++x > n) throw new Error(\"circular link\");\n      current = next;\n      next = new Set;\n    }\n  }\n\n  function computeNodeLayers({nodes}) {\n    const x = max(nodes, d => d.depth) + 1;\n    const kx = (x1 - x0 - dx) / (x - 1);\n    const columns = new Array(x);\n    for (const node of nodes) {\n      const i = Math.max(0, Math.min(x - 1, Math.floor(align.call(null, node, x))));\n      node.layer = i;\n      node.x0 = x0 + i * kx;\n      node.x1 = node.x0 + dx;\n      if (columns[i]) columns[i].push(node);\n      else columns[i] = [node];\n    }\n    if (sort) for (const column of columns) {\n      column.sort(sort);\n    }\n    return columns;\n  }\n\n  function initializeNodeBreadths(columns) {\n    const ky = min(columns, c => (y1 - y0 - (c.length - 1) * py) / sum(c, value));\n    for (const nodes of columns) {\n      let y = y0;\n      for (const node of nodes) {\n        node.y0 = y;\n        node.y1 = y + node.value * ky;\n        y = node.y1 + py;\n        for (const link of node.sourceLinks) {\n          link.width = link.value * ky;\n        }\n      }\n      y = (y1 - y + py) / (nodes.length + 1);\n      for (let i = 0; i < nodes.length; ++i) {\n        const node = nodes[i];\n        node.y0 += y * (i + 1);\n        node.y1 += y * (i + 1);\n      }\n      reorderLinks(nodes);\n    }\n  }\n\n  function computeNodeBreadths(graph) {\n    const columns = computeNodeLayers(graph);\n    py = Math.min(dy, (y1 - y0) / (max(columns, c => c.length) - 1));\n    initializeNodeBreadths(columns);\n    for (let i = 0; i < iterations; ++i) {\n      const alpha = Math.pow(0.99, i);\n      const beta = Math.max(1 - alpha, (i + 1) / iterations);\n      relaxRightToLeft(columns, alpha, beta);\n      relaxLeftToRight(columns, alpha, beta);\n    }\n  }\n\n  // Reposition each node based on its incoming (target) links.\n  function relaxLeftToRight(columns, alpha, beta) {\n    for (let i = 1, n = columns.length; i < n; ++i) {\n      const column = columns[i];\n      for (const target of column) {\n        let y = 0;\n        let w = 0;\n        for (const {source, value} of target.targetLinks) {\n          let v = value * (target.layer - source.layer);\n          y += targetTop(source, target) * v;\n          w += v;\n        }\n        if (!(w > 0)) continue;\n        let dy = (y / w - target.y0) * alpha;\n        target.y0 += dy;\n        target.y1 += dy;\n        reorderNodeLinks(target);\n      }\n      if (sort === undefined) column.sort(ascendingBreadth);\n      resolveCollisions(column, beta);\n    }\n  }\n\n  // Reposition each node based on its outgoing (source) links.\n  function relaxRightToLeft(columns, alpha, beta) {\n    for (let n = columns.length, i = n - 2; i >= 0; --i) {\n      const column = columns[i];\n      for (const source of column) {\n        let y = 0;\n        let w = 0;\n        for (const {target, value} of source.sourceLinks) {\n          let v = value * (target.layer - source.layer);\n          y += sourceTop(source, target) * v;\n          w += v;\n        }\n        if (!(w > 0)) continue;\n        let dy = (y / w - source.y0) * alpha;\n        source.y0 += dy;\n        source.y1 += dy;\n        reorderNodeLinks(source);\n      }\n      if (sort === undefined) column.sort(ascendingBreadth);\n      resolveCollisions(column, beta);\n    }\n  }\n\n  function resolveCollisions(nodes, alpha) {\n    const i = nodes.length >> 1;\n    const subject = nodes[i];\n    resolveCollisionsBottomToTop(nodes, subject.y0 - py, i - 1, alpha);\n    resolveCollisionsTopToBottom(nodes, subject.y1 + py, i + 1, alpha);\n    resolveCollisionsBottomToTop(nodes, y1, nodes.length - 1, alpha);\n    resolveCollisionsTopToBottom(nodes, y0, 0, alpha);\n  }\n\n  // Push any overlapping nodes down.\n  function resolveCollisionsTopToBottom(nodes, y, i, alpha) {\n    for (; i < nodes.length; ++i) {\n      const node = nodes[i];\n      const dy = (y - node.y0) * alpha;\n      if (dy > 1e-6) node.y0 += dy, node.y1 += dy;\n      y = node.y1 + py;\n    }\n  }\n\n  // Push any overlapping nodes up.\n  function resolveCollisionsBottomToTop(nodes, y, i, alpha) {\n    for (; i >= 0; --i) {\n      const node = nodes[i];\n      const dy = (node.y1 - y) * alpha;\n      if (dy > 1e-6) node.y0 -= dy, node.y1 -= dy;\n      y = node.y0 - py;\n    }\n  }\n\n  function reorderNodeLinks({sourceLinks, targetLinks}) {\n    if (linkSort === undefined) {\n      for (const {source: {sourceLinks}} of targetLinks) {\n        sourceLinks.sort(ascendingTargetBreadth);\n      }\n      for (const {target: {targetLinks}} of sourceLinks) {\n        targetLinks.sort(ascendingSourceBreadth);\n      }\n    }\n  }\n\n  function reorderLinks(nodes) {\n    if (linkSort === undefined) {\n      for (const {sourceLinks, targetLinks} of nodes) {\n        sourceLinks.sort(ascendingTargetBreadth);\n        targetLinks.sort(ascendingSourceBreadth);\n      }\n    }\n  }\n\n  // Returns the target.y0 that would produce an ideal link from source to target.\n  function targetTop(source, target) {\n    let y = source.y0 - (source.sourceLinks.length - 1) * py / 2;\n    for (const {target: node, width} of source.sourceLinks) {\n      if (node === target) break;\n      y += width + py;\n    }\n    for (const {source: node, width} of target.targetLinks) {\n      if (node === source) break;\n      y -= width;\n    }\n    return y;\n  }\n\n  // Returns the source.y0 that would produce an ideal link from source to target.\n  function sourceTop(source, target) {\n    let y = target.y0 - (target.targetLinks.length - 1) * py / 2;\n    for (const {source: node, width} of target.targetLinks) {\n      if (node === source) break;\n      y += width + py;\n    }\n    for (const {target: node, width} of source.sourceLinks) {\n      if (node === target) break;\n      y -= width;\n    }\n    return y;\n  }\n\n  return sankey;\n}\n","export default function min(values, valueof) {\n  let min;\n  if (valueof === undefined) {\n    for (const value of values) {\n      if (value != null\n          && (min > value || (min === undefined && value >= value))) {\n        min = value;\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null\n          && (min > value || (min === undefined && value >= value))) {\n        min = value;\n      }\n    }\n  }\n  return min;\n}\n","var pi = Math.PI,\n    tau = 2 * pi,\n    epsilon = 1e-6,\n    tauEpsilon = tau - epsilon;\n\nfunction Path() {\n  this._x0 = this._y0 = // start of current subpath\n  this._x1 = this._y1 = null; // end of current subpath\n  this._ = \"\";\n}\n\nfunction path() {\n  return new Path;\n}\n\nPath.prototype = path.prototype = {\n  constructor: Path,\n  moveTo: function(x, y) {\n    this._ += \"M\" + (this._x0 = this._x1 = +x) + \",\" + (this._y0 = this._y1 = +y);\n  },\n  closePath: function() {\n    if (this._x1 !== null) {\n      this._x1 = this._x0, this._y1 = this._y0;\n      this._ += \"Z\";\n    }\n  },\n  lineTo: function(x, y) {\n    this._ += \"L\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  quadraticCurveTo: function(x1, y1, x, y) {\n    this._ += \"Q\" + (+x1) + \",\" + (+y1) + \",\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  bezierCurveTo: function(x1, y1, x2, y2, x, y) {\n    this._ += \"C\" + (+x1) + \",\" + (+y1) + \",\" + (+x2) + \",\" + (+y2) + \",\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  arcTo: function(x1, y1, x2, y2, r) {\n    x1 = +x1, y1 = +y1, x2 = +x2, y2 = +y2, r = +r;\n    var x0 = this._x1,\n        y0 = this._y1,\n        x21 = x2 - x1,\n        y21 = y2 - y1,\n        x01 = x0 - x1,\n        y01 = y0 - y1,\n        l01_2 = x01 * x01 + y01 * y01;\n\n    // Is the radius negative? Error.\n    if (r < 0) throw new Error(\"negative radius: \" + r);\n\n    // Is this path empty? Move to (x1,y1).\n    if (this._x1 === null) {\n      this._ += \"M\" + (this._x1 = x1) + \",\" + (this._y1 = y1);\n    }\n\n    // Or, is (x1,y1) coincident with (x0,y0)? Do nothing.\n    else if (!(l01_2 > epsilon));\n\n    // Or, are (x0,y0), (x1,y1) and (x2,y2) collinear?\n    // Equivalently, is (x1,y1) coincident with (x2,y2)?\n    // Or, is the radius zero? Line to (x1,y1).\n    else if (!(Math.abs(y01 * x21 - y21 * x01) > epsilon) || !r) {\n      this._ += \"L\" + (this._x1 = x1) + \",\" + (this._y1 = y1);\n    }\n\n    // Otherwise, draw an arc!\n    else {\n      var x20 = x2 - x0,\n          y20 = y2 - y0,\n          l21_2 = x21 * x21 + y21 * y21,\n          l20_2 = x20 * x20 + y20 * y20,\n          l21 = Math.sqrt(l21_2),\n          l01 = Math.sqrt(l01_2),\n          l = r * Math.tan((pi - Math.acos((l21_2 + l01_2 - l20_2) / (2 * l21 * l01))) / 2),\n          t01 = l / l01,\n          t21 = l / l21;\n\n      // If the start tangent is not coincident with (x0,y0), line to.\n      if (Math.abs(t01 - 1) > epsilon) {\n        this._ += \"L\" + (x1 + t01 * x01) + \",\" + (y1 + t01 * y01);\n      }\n\n      this._ += \"A\" + r + \",\" + r + \",0,0,\" + (+(y01 * x20 > x01 * y20)) + \",\" + (this._x1 = x1 + t21 * x21) + \",\" + (this._y1 = y1 + t21 * y21);\n    }\n  },\n  arc: function(x, y, r, a0, a1, ccw) {\n    x = +x, y = +y, r = +r, ccw = !!ccw;\n    var dx = r * Math.cos(a0),\n        dy = r * Math.sin(a0),\n        x0 = x + dx,\n        y0 = y + dy,\n        cw = 1 ^ ccw,\n        da = ccw ? a0 - a1 : a1 - a0;\n\n    // Is the radius negative? Error.\n    if (r < 0) throw new Error(\"negative radius: \" + r);\n\n    // Is this path empty? Move to (x0,y0).\n    if (this._x1 === null) {\n      this._ += \"M\" + x0 + \",\" + y0;\n    }\n\n    // Or, is (x0,y0) not coincident with the previous point? Line to (x0,y0).\n    else if (Math.abs(this._x1 - x0) > epsilon || Math.abs(this._y1 - y0) > epsilon) {\n      this._ += \"L\" + x0 + \",\" + y0;\n    }\n\n    // Is this arc empty? We’re done.\n    if (!r) return;\n\n    // Does the angle go the wrong way? Flip the direction.\n    if (da < 0) da = da % tau + tau;\n\n    // Is this a complete circle? Draw two arcs to complete the circle.\n    if (da > tauEpsilon) {\n      this._ += \"A\" + r + \",\" + r + \",0,1,\" + cw + \",\" + (x - dx) + \",\" + (y - dy) + \"A\" + r + \",\" + r + \",0,1,\" + cw + \",\" + (this._x1 = x0) + \",\" + (this._y1 = y0);\n    }\n\n    // Is this arc non-empty? Draw an arc!\n    else if (da > epsilon) {\n      this._ += \"A\" + r + \",\" + r + \",0,\" + (+(da >= pi)) + \",\" + cw + \",\" + (this._x1 = x + r * Math.cos(a1)) + \",\" + (this._y1 = y + r * Math.sin(a1));\n    }\n  },\n  rect: function(x, y, w, h) {\n    this._ += \"M\" + (this._x0 = this._x1 = +x) + \",\" + (this._y0 = this._y1 = +y) + \"h\" + (+w) + \"v\" + (+h) + \"h\" + (-w) + \"Z\";\n  },\n  toString: function() {\n    return this._;\n  }\n};\n\nexport default path;\n","export default function(x) {\n  return function constant() {\n    return x;\n  };\n}\n","export function x(p) {\n  return p[0];\n}\n\nexport function y(p) {\n  return p[1];\n}\n","export var slice = Array.prototype.slice;\n","import {path} from \"d3-path\";\nimport {slice} from \"../array.js\";\nimport constant from \"../constant.js\";\nimport {x as pointX, y as pointY} from \"../point.js\";\nimport pointRadial from \"../pointRadial.js\";\n\nfunction linkSource(d) {\n  return d.source;\n}\n\nfunction linkTarget(d) {\n  return d.target;\n}\n\nfunction link(curve) {\n  var source = linkSource,\n      target = linkTarget,\n      x = pointX,\n      y = pointY,\n      context = null;\n\n  function link() {\n    var buffer, argv = slice.call(arguments), s = source.apply(this, argv), t = target.apply(this, argv);\n    if (!context) context = buffer = path();\n    curve(context, +x.apply(this, (argv[0] = s, argv)), +y.apply(this, argv), +x.apply(this, (argv[0] = t, argv)), +y.apply(this, argv));\n    if (buffer) return context = null, buffer + \"\" || null;\n  }\n\n  link.source = function(_) {\n    return arguments.length ? (source = _, link) : source;\n  };\n\n  link.target = function(_) {\n    return arguments.length ? (target = _, link) : target;\n  };\n\n  link.x = function(_) {\n    return arguments.length ? (x = typeof _ === \"function\" ? _ : constant(+_), link) : x;\n  };\n\n  link.y = function(_) {\n    return arguments.length ? (y = typeof _ === \"function\" ? _ : constant(+_), link) : y;\n  };\n\n  link.context = function(_) {\n    return arguments.length ? ((context = _ == null ? null : _), link) : context;\n  };\n\n  return link;\n}\n\nfunction curveHorizontal(context, x0, y0, x1, y1) {\n  context.moveTo(x0, y0);\n  context.bezierCurveTo(x0 = (x0 + x1) / 2, y0, x0, y1, x1, y1);\n}\n\nfunction curveVertical(context, x0, y0, x1, y1) {\n  context.moveTo(x0, y0);\n  context.bezierCurveTo(x0, y0 = (y0 + y1) / 2, x1, y0, x1, y1);\n}\n\nfunction curveRadial(context, x0, y0, x1, y1) {\n  var p0 = pointRadial(x0, y0),\n      p1 = pointRadial(x0, y0 = (y0 + y1) / 2),\n      p2 = pointRadial(x1, y0),\n      p3 = pointRadial(x1, y1);\n  context.moveTo(p0[0], p0[1]);\n  context.bezierCurveTo(p1[0], p1[1], p2[0], p2[1], p3[0], p3[1]);\n}\n\nexport function linkHorizontal() {\n  return link(curveHorizontal);\n}\n\nexport function linkVertical() {\n  return link(curveVertical);\n}\n\nexport function linkRadial() {\n  var l = link(curveRadial);\n  l.angle = l.x, delete l.x;\n  l.radius = l.y, delete l.y;\n  return l;\n}\n","import {linkHorizontal} from \"d3-shape\";\n\nfunction horizontalSource(d) {\n  return [d.source.x1, d.y0];\n}\n\nfunction horizontalTarget(d) {\n  return [d.target.x0, d.y1];\n}\n\nexport default function() {\n  return linkHorizontal()\n      .source(horizontalSource)\n      .target(horizontalTarget);\n}\n","//@ts-check\n\n\nconst area_color_1 = '#0E7FAB';\nconst area_color_2 = '#F8C738';\nconst area_color_3 = '#EC3500';\nconst area_color_4 = '#B8C30F';\n\nexport const nodesById = new Map(Object.entries({\n    'RF': {\n        text: 'Recettes de fonctionnement',\n        color: area_color_3\n    },\n    'RI': {\n        text: `Recettes d'investissement`,\n        color: area_color_1\n    },\n    'DF': {\n        text: `Dépenses de fonctionnement`,\n        color: area_color_2\n    },\n    'DI': {\n        text: `Dépenses d'investissement`,\n        color: area_color_4\n    },\n    'RF_DotEtat': {\n        text: `Dotation de l'État`,\n        color: area_color_3\n    },\n    'RF_FiscDirecte': {\n        text: `Fiscalité directe`,\n        color: area_color_3\n    },\n    'RF_FiscIndirecte': {\n        text: `Fiscalité indirecte`,\n        color: area_color_3\n    },\n    'RF_Divers': {\n        text: `Recettes diverses`,\n        color: area_color_3\n    },\n    'EP': {\n        text: 'Épargne',\n        color: area_color_3\n    },\n    'DF_Solidarite': {\n        text: 'Solidarité',\n        color: area_color_2\n    },\n    'DF_Interventions': {\n        text: 'Interventions (SDIS …)',\n        color: area_color_2\n    },\n    'DF_Autres': {\n        text: 'Autres (personnel …)',\n        color: area_color_2\n    },\n    'I_Emprunt': {\n        text: 'Emprunts',\n        color: area_color_1\n    },\n    'I_Autres': {\n        text: `Autres recettes d'investissement`,\n        color: area_color_1\n    },\n    'DI_Remboursement': {\n        text: `Remboursement Emprunts`,\n        color: area_color_4\n    },\n    'DI_Construction': {\n        text: `ROUTES + COLLÈGES + BÂTIMENTS + AMÉNAGEMENT`,\n        color: area_color_4\n    },\n    'DI_Subventions': {\n        text: `Subventions`,\n        color: area_color_4\n    },\n}).map( ([id, node]) => ([id, {id, ...node}])) )\n\nexport const links = [\n    // Recettes de fonctionnement\n    {\n        source: nodesById.get('RF_DotEtat'),\n        target: nodesById.get('RF'),\n        value: 187.1\n    },\n    {\n        source: nodesById.get('RF_FiscDirecte'),\n        target: nodesById.get('RF'),\n        value: 495.6\n    },\n    {\n        source: nodesById.get('RF_FiscIndirecte'),\n        target: nodesById.get('RF'),\n        value: 745.0\n    },\n    {\n        source: nodesById.get('RF_Divers'),\n        target: nodesById.get('RF'),\n        value: 217.7\n    },\n\n    {\n        source: nodesById.get('RF'),\n        target: nodesById.get('DF'),\n        value: 1495.3\n    },\n\n    // Épargne\n    {\n        source: nodesById.get('RF'),\n        target: nodesById.get('EP'),\n        value: 150.2\n    },\n\n    // Dépenses de fonctionnement\n    {\n        source: nodesById.get('DF'),\n        target: nodesById.get('DF_Solidarite'),\n        value: 952.3\n    },\n\n    {\n        source: nodesById.get('DF'),\n        target: nodesById.get('DF_Interventions'),\n        value: 169.9\n    },\n\n    {\n        source: nodesById.get('DF'),\n        target: nodesById.get('DF_Autres'),\n        value: 373.0\n    },\n\n    // Investissement\n    {\n        source: nodesById.get('EP'),\n        target: nodesById.get('DI'),\n        value: 150.2\n    },\n    {\n        source: nodesById.get('I_Emprunt'),\n        target: nodesById.get('RI'),\n        value: 70.0\n    },\n    {\n        source: nodesById.get('I_Autres'),\n        target: nodesById.get('RI'),\n        value: 36.2\n    },\n    {\n        source: nodesById.get('RI'),\n        target: nodesById.get('DI'),\n        value : 70.0 + 36.2\n    },\n\n\n    // Dépenses d'investissement\n    {\n        source: nodesById.get('DI'),\n        target: nodesById.get('DI_Remboursement'),\n        value: 66.6\n    },\n    {\n        source: nodesById.get('DI'),\n        target: nodesById.get('DI_Construction'),\n        value: 141.7\n    },\n    {\n        source: nodesById.get('DI'),\n        target: nodesById.get('DI_Subventions'),\n        value: 58.7\n    }\n]","function noop() { }\nconst identity = x => x;\nfunction assign(tar, src) {\n    // @ts-ignore\n    for (const k in src)\n        tar[k] = src[k];\n    return tar;\n}\nfunction is_promise(value) {\n    return value && typeof value === 'object' && typeof value.then === 'function';\n}\nfunction add_location(element, file, line, column, char) {\n    element.__svelte_meta = {\n        loc: { file, line, column, char }\n    };\n}\nfunction run(fn) {\n    return fn();\n}\nfunction blank_object() {\n    return Object.create(null);\n}\nfunction run_all(fns) {\n    fns.forEach(run);\n}\nfunction is_function(thing) {\n    return typeof thing === 'function';\n}\nfunction safe_not_equal(a, b) {\n    return a != a ? b == b : a !== b || ((a && typeof a === 'object') || typeof a === 'function');\n}\nfunction not_equal(a, b) {\n    return a != a ? b == b : a !== b;\n}\nfunction is_empty(obj) {\n    return Object.keys(obj).length === 0;\n}\nfunction validate_store(store, name) {\n    if (store != null && typeof store.subscribe !== 'function') {\n        throw new Error(`'${name}' is not a store with a 'subscribe' method`);\n    }\n}\nfunction subscribe(store, ...callbacks) {\n    if (store == null) {\n        return noop;\n    }\n    const unsub = store.subscribe(...callbacks);\n    return unsub.unsubscribe ? () => unsub.unsubscribe() : unsub;\n}\nfunction get_store_value(store) {\n    let value;\n    subscribe(store, _ => value = _)();\n    return value;\n}\nfunction component_subscribe(component, store, callback) {\n    component.$$.on_destroy.push(subscribe(store, callback));\n}\nfunction create_slot(definition, ctx, $$scope, fn) {\n    if (definition) {\n        const slot_ctx = get_slot_context(definition, ctx, $$scope, fn);\n        return definition[0](slot_ctx);\n    }\n}\nfunction get_slot_context(definition, ctx, $$scope, fn) {\n    return definition[1] && fn\n        ? assign($$scope.ctx.slice(), definition[1](fn(ctx)))\n        : $$scope.ctx;\n}\nfunction get_slot_changes(definition, $$scope, dirty, fn) {\n    if (definition[2] && fn) {\n        const lets = definition[2](fn(dirty));\n        if ($$scope.dirty === undefined) {\n            return lets;\n        }\n        if (typeof lets === 'object') {\n            const merged = [];\n            const len = Math.max($$scope.dirty.length, lets.length);\n            for (let i = 0; i < len; i += 1) {\n                merged[i] = $$scope.dirty[i] | lets[i];\n            }\n            return merged;\n        }\n        return $$scope.dirty | lets;\n    }\n    return $$scope.dirty;\n}\nfunction update_slot(slot, slot_definition, ctx, $$scope, dirty, get_slot_changes_fn, get_slot_context_fn) {\n    const slot_changes = get_slot_changes(slot_definition, $$scope, dirty, get_slot_changes_fn);\n    if (slot_changes) {\n        const slot_context = get_slot_context(slot_definition, ctx, $$scope, get_slot_context_fn);\n        slot.p(slot_context, slot_changes);\n    }\n}\nfunction update_slot_spread(slot, slot_definition, ctx, $$scope, dirty, get_slot_changes_fn, get_slot_spread_changes_fn, get_slot_context_fn) {\n    const slot_changes = get_slot_spread_changes_fn(dirty) | get_slot_changes(slot_definition, $$scope, dirty, get_slot_changes_fn);\n    if (slot_changes) {\n        const slot_context = get_slot_context(slot_definition, ctx, $$scope, get_slot_context_fn);\n        slot.p(slot_context, slot_changes);\n    }\n}\nfunction exclude_internal_props(props) {\n    const result = {};\n    for (const k in props)\n        if (k[0] !== '$')\n            result[k] = props[k];\n    return result;\n}\nfunction compute_rest_props(props, keys) {\n    const rest = {};\n    keys = new Set(keys);\n    for (const k in props)\n        if (!keys.has(k) && k[0] !== '$')\n            rest[k] = props[k];\n    return rest;\n}\nfunction compute_slots(slots) {\n    const result = {};\n    for (const key in slots) {\n        result[key] = true;\n    }\n    return result;\n}\nfunction once(fn) {\n    let ran = false;\n    return function (...args) {\n        if (ran)\n            return;\n        ran = true;\n        fn.call(this, ...args);\n    };\n}\nfunction null_to_empty(value) {\n    return value == null ? '' : value;\n}\nfunction set_store_value(store, ret, value = ret) {\n    store.set(value);\n    return ret;\n}\nconst has_prop = (obj, prop) => Object.prototype.hasOwnProperty.call(obj, prop);\nfunction action_destroyer(action_result) {\n    return action_result && is_function(action_result.destroy) ? action_result.destroy : noop;\n}\n\nconst is_client = typeof window !== 'undefined';\nlet now = is_client\n    ? () => window.performance.now()\n    : () => Date.now();\nlet raf = is_client ? cb => requestAnimationFrame(cb) : noop;\n// used internally for testing\nfunction set_now(fn) {\n    now = fn;\n}\nfunction set_raf(fn) {\n    raf = fn;\n}\n\nconst tasks = new Set();\nfunction run_tasks(now) {\n    tasks.forEach(task => {\n        if (!task.c(now)) {\n            tasks.delete(task);\n            task.f();\n        }\n    });\n    if (tasks.size !== 0)\n        raf(run_tasks);\n}\n/**\n * For testing purposes only!\n */\nfunction clear_loops() {\n    tasks.clear();\n}\n/**\n * Creates a new task that runs on each raf frame\n * until it returns a falsy value or is aborted\n */\nfunction loop(callback) {\n    let task;\n    if (tasks.size === 0)\n        raf(run_tasks);\n    return {\n        promise: new Promise(fulfill => {\n            tasks.add(task = { c: callback, f: fulfill });\n        }),\n        abort() {\n            tasks.delete(task);\n        }\n    };\n}\n\nfunction append(target, node) {\n    target.appendChild(node);\n}\nfunction insert(target, node, anchor) {\n    target.insertBefore(node, anchor || null);\n}\nfunction detach(node) {\n    node.parentNode.removeChild(node);\n}\nfunction destroy_each(iterations, detaching) {\n    for (let i = 0; i < iterations.length; i += 1) {\n        if (iterations[i])\n            iterations[i].d(detaching);\n    }\n}\nfunction element(name) {\n    return document.createElement(name);\n}\nfunction element_is(name, is) {\n    return document.createElement(name, { is });\n}\nfunction object_without_properties(obj, exclude) {\n    const target = {};\n    for (const k in obj) {\n        if (has_prop(obj, k)\n            // @ts-ignore\n            && exclude.indexOf(k) === -1) {\n            // @ts-ignore\n            target[k] = obj[k];\n        }\n    }\n    return target;\n}\nfunction svg_element(name) {\n    return document.createElementNS('http://www.w3.org/2000/svg', name);\n}\nfunction text(data) {\n    return document.createTextNode(data);\n}\nfunction space() {\n    return text(' ');\n}\nfunction empty() {\n    return text('');\n}\nfunction listen(node, event, handler, options) {\n    node.addEventListener(event, handler, options);\n    return () => node.removeEventListener(event, handler, options);\n}\nfunction prevent_default(fn) {\n    return function (event) {\n        event.preventDefault();\n        // @ts-ignore\n        return fn.call(this, event);\n    };\n}\nfunction stop_propagation(fn) {\n    return function (event) {\n        event.stopPropagation();\n        // @ts-ignore\n        return fn.call(this, event);\n    };\n}\nfunction self(fn) {\n    return function (event) {\n        // @ts-ignore\n        if (event.target === this)\n            fn.call(this, event);\n    };\n}\nfunction attr(node, attribute, value) {\n    if (value == null)\n        node.removeAttribute(attribute);\n    else if (node.getAttribute(attribute) !== value)\n        node.setAttribute(attribute, value);\n}\nfunction set_attributes(node, attributes) {\n    // @ts-ignore\n    const descriptors = Object.getOwnPropertyDescriptors(node.__proto__);\n    for (const key in attributes) {\n        if (attributes[key] == null) {\n            node.removeAttribute(key);\n        }\n        else if (key === 'style') {\n            node.style.cssText = attributes[key];\n        }\n        else if (key === '__value') {\n            node.value = node[key] = attributes[key];\n        }\n        else if (descriptors[key] && descriptors[key].set) {\n            node[key] = attributes[key];\n        }\n        else {\n            attr(node, key, attributes[key]);\n        }\n    }\n}\nfunction set_svg_attributes(node, attributes) {\n    for (const key in attributes) {\n        attr(node, key, attributes[key]);\n    }\n}\nfunction set_custom_element_data(node, prop, value) {\n    if (prop in node) {\n        node[prop] = value;\n    }\n    else {\n        attr(node, prop, value);\n    }\n}\nfunction xlink_attr(node, attribute, value) {\n    node.setAttributeNS('http://www.w3.org/1999/xlink', attribute, value);\n}\nfunction get_binding_group_value(group, __value, checked) {\n    const value = new Set();\n    for (let i = 0; i < group.length; i += 1) {\n        if (group[i].checked)\n            value.add(group[i].__value);\n    }\n    if (!checked) {\n        value.delete(__value);\n    }\n    return Array.from(value);\n}\nfunction to_number(value) {\n    return value === '' ? null : +value;\n}\nfunction time_ranges_to_array(ranges) {\n    const array = [];\n    for (let i = 0; i < ranges.length; i += 1) {\n        array.push({ start: ranges.start(i), end: ranges.end(i) });\n    }\n    return array;\n}\nfunction children(element) {\n    return Array.from(element.childNodes);\n}\nfunction claim_element(nodes, name, attributes, svg) {\n    for (let i = 0; i < nodes.length; i += 1) {\n        const node = nodes[i];\n        if (node.nodeName === name) {\n            let j = 0;\n            const remove = [];\n            while (j < node.attributes.length) {\n                const attribute = node.attributes[j++];\n                if (!attributes[attribute.name]) {\n                    remove.push(attribute.name);\n                }\n            }\n            for (let k = 0; k < remove.length; k++) {\n                node.removeAttribute(remove[k]);\n            }\n            return nodes.splice(i, 1)[0];\n        }\n    }\n    return svg ? svg_element(name) : element(name);\n}\nfunction claim_text(nodes, data) {\n    for (let i = 0; i < nodes.length; i += 1) {\n        const node = nodes[i];\n        if (node.nodeType === 3) {\n            node.data = '' + data;\n            return nodes.splice(i, 1)[0];\n        }\n    }\n    return text(data);\n}\nfunction claim_space(nodes) {\n    return claim_text(nodes, ' ');\n}\nfunction set_data(text, data) {\n    data = '' + data;\n    if (text.wholeText !== data)\n        text.data = data;\n}\nfunction set_input_value(input, value) {\n    input.value = value == null ? '' : value;\n}\nfunction set_input_type(input, type) {\n    try {\n        input.type = type;\n    }\n    catch (e) {\n        // do nothing\n    }\n}\nfunction set_style(node, key, value, important) {\n    node.style.setProperty(key, value, important ? 'important' : '');\n}\nfunction select_option(select, value) {\n    for (let i = 0; i < select.options.length; i += 1) {\n        const option = select.options[i];\n        if (option.__value === value) {\n            option.selected = true;\n            return;\n        }\n    }\n}\nfunction select_options(select, value) {\n    for (let i = 0; i < select.options.length; i += 1) {\n        const option = select.options[i];\n        option.selected = ~value.indexOf(option.__value);\n    }\n}\nfunction select_value(select) {\n    const selected_option = select.querySelector(':checked') || select.options[0];\n    return selected_option && selected_option.__value;\n}\nfunction select_multiple_value(select) {\n    return [].map.call(select.querySelectorAll(':checked'), option => option.__value);\n}\n// unfortunately this can't be a constant as that wouldn't be tree-shakeable\n// so we cache the result instead\nlet crossorigin;\nfunction is_crossorigin() {\n    if (crossorigin === undefined) {\n        crossorigin = false;\n        try {\n            if (typeof window !== 'undefined' && window.parent) {\n                void window.parent.document;\n            }\n        }\n        catch (error) {\n            crossorigin = true;\n        }\n    }\n    return crossorigin;\n}\nfunction add_resize_listener(node, fn) {\n    const computed_style = getComputedStyle(node);\n    if (computed_style.position === 'static') {\n        node.style.position = 'relative';\n    }\n    const iframe = element('iframe');\n    iframe.setAttribute('style', 'display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; ' +\n        'overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;');\n    iframe.setAttribute('aria-hidden', 'true');\n    iframe.tabIndex = -1;\n    const crossorigin = is_crossorigin();\n    let unsubscribe;\n    if (crossorigin) {\n        iframe.src = \"data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}</script>\";\n        unsubscribe = listen(window, 'message', (event) => {\n            if (event.source === iframe.contentWindow)\n                fn();\n        });\n    }\n    else {\n        iframe.src = 'about:blank';\n        iframe.onload = () => {\n            unsubscribe = listen(iframe.contentWindow, 'resize', fn);\n        };\n    }\n    append(node, iframe);\n    return () => {\n        if (crossorigin) {\n            unsubscribe();\n        }\n        else if (unsubscribe && iframe.contentWindow) {\n            unsubscribe();\n        }\n        detach(iframe);\n    };\n}\nfunction toggle_class(element, name, toggle) {\n    element.classList[toggle ? 'add' : 'remove'](name);\n}\nfunction custom_event(type, detail) {\n    const e = document.createEvent('CustomEvent');\n    e.initCustomEvent(type, false, false, detail);\n    return e;\n}\nfunction query_selector_all(selector, parent = document.body) {\n    return Array.from(parent.querySelectorAll(selector));\n}\nclass HtmlTag {\n    constructor(anchor = null) {\n        this.a = anchor;\n        this.e = this.n = null;\n    }\n    m(html, target, anchor = null) {\n        if (!this.e) {\n            this.e = element(target.nodeName);\n            this.t = target;\n            this.h(html);\n        }\n        this.i(anchor);\n    }\n    h(html) {\n        this.e.innerHTML = html;\n        this.n = Array.from(this.e.childNodes);\n    }\n    i(anchor) {\n        for (let i = 0; i < this.n.length; i += 1) {\n            insert(this.t, this.n[i], anchor);\n        }\n    }\n    p(html) {\n        this.d();\n        this.h(html);\n        this.i(this.a);\n    }\n    d() {\n        this.n.forEach(detach);\n    }\n}\nfunction attribute_to_object(attributes) {\n    const result = {};\n    for (const attribute of attributes) {\n        result[attribute.name] = attribute.value;\n    }\n    return result;\n}\nfunction get_custom_elements_slots(element) {\n    const result = {};\n    element.childNodes.forEach((node) => {\n        result[node.slot || 'default'] = true;\n    });\n    return result;\n}\n\nconst active_docs = new Set();\nlet active = 0;\n// https://github.com/darkskyapp/string-hash/blob/master/index.js\nfunction hash(str) {\n    let hash = 5381;\n    let i = str.length;\n    while (i--)\n        hash = ((hash << 5) - hash) ^ str.charCodeAt(i);\n    return hash >>> 0;\n}\nfunction create_rule(node, a, b, duration, delay, ease, fn, uid = 0) {\n    const step = 16.666 / duration;\n    let keyframes = '{\\n';\n    for (let p = 0; p <= 1; p += step) {\n        const t = a + (b - a) * ease(p);\n        keyframes += p * 100 + `%{${fn(t, 1 - t)}}\\n`;\n    }\n    const rule = keyframes + `100% {${fn(b, 1 - b)}}\\n}`;\n    const name = `__svelte_${hash(rule)}_${uid}`;\n    const doc = node.ownerDocument;\n    active_docs.add(doc);\n    const stylesheet = doc.__svelte_stylesheet || (doc.__svelte_stylesheet = doc.head.appendChild(element('style')).sheet);\n    const current_rules = doc.__svelte_rules || (doc.__svelte_rules = {});\n    if (!current_rules[name]) {\n        current_rules[name] = true;\n        stylesheet.insertRule(`@keyframes ${name} ${rule}`, stylesheet.cssRules.length);\n    }\n    const animation = node.style.animation || '';\n    node.style.animation = `${animation ? `${animation}, ` : ''}${name} ${duration}ms linear ${delay}ms 1 both`;\n    active += 1;\n    return name;\n}\nfunction delete_rule(node, name) {\n    const previous = (node.style.animation || '').split(', ');\n    const next = previous.filter(name\n        ? anim => anim.indexOf(name) < 0 // remove specific animation\n        : anim => anim.indexOf('__svelte') === -1 // remove all Svelte animations\n    );\n    const deleted = previous.length - next.length;\n    if (deleted) {\n        node.style.animation = next.join(', ');\n        active -= deleted;\n        if (!active)\n            clear_rules();\n    }\n}\nfunction clear_rules() {\n    raf(() => {\n        if (active)\n            return;\n        active_docs.forEach(doc => {\n            const stylesheet = doc.__svelte_stylesheet;\n            let i = stylesheet.cssRules.length;\n            while (i--)\n                stylesheet.deleteRule(i);\n            doc.__svelte_rules = {};\n        });\n        active_docs.clear();\n    });\n}\n\nfunction create_animation(node, from, fn, params) {\n    if (!from)\n        return noop;\n    const to = node.getBoundingClientRect();\n    if (from.left === to.left && from.right === to.right && from.top === to.top && from.bottom === to.bottom)\n        return noop;\n    const { delay = 0, duration = 300, easing = identity, \n    // @ts-ignore todo: should this be separated from destructuring? Or start/end added to public api and documentation?\n    start: start_time = now() + delay, \n    // @ts-ignore todo:\n    end = start_time + duration, tick = noop, css } = fn(node, { from, to }, params);\n    let running = true;\n    let started = false;\n    let name;\n    function start() {\n        if (css) {\n            name = create_rule(node, 0, 1, duration, delay, easing, css);\n        }\n        if (!delay) {\n            started = true;\n        }\n    }\n    function stop() {\n        if (css)\n            delete_rule(node, name);\n        running = false;\n    }\n    loop(now => {\n        if (!started && now >= start_time) {\n            started = true;\n        }\n        if (started && now >= end) {\n            tick(1, 0);\n            stop();\n        }\n        if (!running) {\n            return false;\n        }\n        if (started) {\n            const p = now - start_time;\n            const t = 0 + 1 * easing(p / duration);\n            tick(t, 1 - t);\n        }\n        return true;\n    });\n    start();\n    tick(0, 1);\n    return stop;\n}\nfunction fix_position(node) {\n    const style = getComputedStyle(node);\n    if (style.position !== 'absolute' && style.position !== 'fixed') {\n        const { width, height } = style;\n        const a = node.getBoundingClientRect();\n        node.style.position = 'absolute';\n        node.style.width = width;\n        node.style.height = height;\n        add_transform(node, a);\n    }\n}\nfunction add_transform(node, a) {\n    const b = node.getBoundingClientRect();\n    if (a.left !== b.left || a.top !== b.top) {\n        const style = getComputedStyle(node);\n        const transform = style.transform === 'none' ? '' : style.transform;\n        node.style.transform = `${transform} translate(${a.left - b.left}px, ${a.top - b.top}px)`;\n    }\n}\n\nlet current_component;\nfunction set_current_component(component) {\n    current_component = component;\n}\nfunction get_current_component() {\n    if (!current_component)\n        throw new Error('Function called outside component initialization');\n    return current_component;\n}\nfunction beforeUpdate(fn) {\n    get_current_component().$$.before_update.push(fn);\n}\nfunction onMount(fn) {\n    get_current_component().$$.on_mount.push(fn);\n}\nfunction afterUpdate(fn) {\n    get_current_component().$$.after_update.push(fn);\n}\nfunction onDestroy(fn) {\n    get_current_component().$$.on_destroy.push(fn);\n}\nfunction createEventDispatcher() {\n    const component = get_current_component();\n    return (type, detail) => {\n        const callbacks = component.$$.callbacks[type];\n        if (callbacks) {\n            // TODO are there situations where events could be dispatched\n            // in a server (non-DOM) environment?\n            const event = custom_event(type, detail);\n            callbacks.slice().forEach(fn => {\n                fn.call(component, event);\n            });\n        }\n    };\n}\nfunction setContext(key, context) {\n    get_current_component().$$.context.set(key, context);\n}\nfunction getContext(key) {\n    return get_current_component().$$.context.get(key);\n}\nfunction hasContext(key) {\n    return get_current_component().$$.context.has(key);\n}\n// TODO figure out if we still want to support\n// shorthand events, or if we want to implement\n// a real bubbling mechanism\nfunction bubble(component, event) {\n    const callbacks = component.$$.callbacks[event.type];\n    if (callbacks) {\n        callbacks.slice().forEach(fn => fn(event));\n    }\n}\n\nconst dirty_components = [];\nconst intros = { enabled: false };\nconst binding_callbacks = [];\nconst render_callbacks = [];\nconst flush_callbacks = [];\nconst resolved_promise = Promise.resolve();\nlet update_scheduled = false;\nfunction schedule_update() {\n    if (!update_scheduled) {\n        update_scheduled = true;\n        resolved_promise.then(flush);\n    }\n}\nfunction tick() {\n    schedule_update();\n    return resolved_promise;\n}\nfunction add_render_callback(fn) {\n    render_callbacks.push(fn);\n}\nfunction add_flush_callback(fn) {\n    flush_callbacks.push(fn);\n}\nlet flushing = false;\nconst seen_callbacks = new Set();\nfunction flush() {\n    if (flushing)\n        return;\n    flushing = true;\n    do {\n        // first, call beforeUpdate functions\n        // and update components\n        for (let i = 0; i < dirty_components.length; i += 1) {\n            const component = dirty_components[i];\n            set_current_component(component);\n            update(component.$$);\n        }\n        set_current_component(null);\n        dirty_components.length = 0;\n        while (binding_callbacks.length)\n            binding_callbacks.pop()();\n        // then, once components are updated, call\n        // afterUpdate functions. This may cause\n        // subsequent updates...\n        for (let i = 0; i < render_callbacks.length; i += 1) {\n            const callback = render_callbacks[i];\n            if (!seen_callbacks.has(callback)) {\n                // ...so guard against infinite loops\n                seen_callbacks.add(callback);\n                callback();\n            }\n        }\n        render_callbacks.length = 0;\n    } while (dirty_components.length);\n    while (flush_callbacks.length) {\n        flush_callbacks.pop()();\n    }\n    update_scheduled = false;\n    flushing = false;\n    seen_callbacks.clear();\n}\nfunction update($$) {\n    if ($$.fragment !== null) {\n        $$.update();\n        run_all($$.before_update);\n        const dirty = $$.dirty;\n        $$.dirty = [-1];\n        $$.fragment && $$.fragment.p($$.ctx, dirty);\n        $$.after_update.forEach(add_render_callback);\n    }\n}\n\nlet promise;\nfunction wait() {\n    if (!promise) {\n        promise = Promise.resolve();\n        promise.then(() => {\n            promise = null;\n        });\n    }\n    return promise;\n}\nfunction dispatch(node, direction, kind) {\n    node.dispatchEvent(custom_event(`${direction ? 'intro' : 'outro'}${kind}`));\n}\nconst outroing = new Set();\nlet outros;\nfunction group_outros() {\n    outros = {\n        r: 0,\n        c: [],\n        p: outros // parent group\n    };\n}\nfunction check_outros() {\n    if (!outros.r) {\n        run_all(outros.c);\n    }\n    outros = outros.p;\n}\nfunction transition_in(block, local) {\n    if (block && block.i) {\n        outroing.delete(block);\n        block.i(local);\n    }\n}\nfunction transition_out(block, local, detach, callback) {\n    if (block && block.o) {\n        if (outroing.has(block))\n            return;\n        outroing.add(block);\n        outros.c.push(() => {\n            outroing.delete(block);\n            if (callback) {\n                if (detach)\n                    block.d(1);\n                callback();\n            }\n        });\n        block.o(local);\n    }\n}\nconst null_transition = { duration: 0 };\nfunction create_in_transition(node, fn, params) {\n    let config = fn(node, params);\n    let running = false;\n    let animation_name;\n    let task;\n    let uid = 0;\n    function cleanup() {\n        if (animation_name)\n            delete_rule(node, animation_name);\n    }\n    function go() {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config || null_transition;\n        if (css)\n            animation_name = create_rule(node, 0, 1, duration, delay, easing, css, uid++);\n        tick(0, 1);\n        const start_time = now() + delay;\n        const end_time = start_time + duration;\n        if (task)\n            task.abort();\n        running = true;\n        add_render_callback(() => dispatch(node, true, 'start'));\n        task = loop(now => {\n            if (running) {\n                if (now >= end_time) {\n                    tick(1, 0);\n                    dispatch(node, true, 'end');\n                    cleanup();\n                    return running = false;\n                }\n                if (now >= start_time) {\n                    const t = easing((now - start_time) / duration);\n                    tick(t, 1 - t);\n                }\n            }\n            return running;\n        });\n    }\n    let started = false;\n    return {\n        start() {\n            if (started)\n                return;\n            delete_rule(node);\n            if (is_function(config)) {\n                config = config();\n                wait().then(go);\n            }\n            else {\n                go();\n            }\n        },\n        invalidate() {\n            started = false;\n        },\n        end() {\n            if (running) {\n                cleanup();\n                running = false;\n            }\n        }\n    };\n}\nfunction create_out_transition(node, fn, params) {\n    let config = fn(node, params);\n    let running = true;\n    let animation_name;\n    const group = outros;\n    group.r += 1;\n    function go() {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config || null_transition;\n        if (css)\n            animation_name = create_rule(node, 1, 0, duration, delay, easing, css);\n        const start_time = now() + delay;\n        const end_time = start_time + duration;\n        add_render_callback(() => dispatch(node, false, 'start'));\n        loop(now => {\n            if (running) {\n                if (now >= end_time) {\n                    tick(0, 1);\n                    dispatch(node, false, 'end');\n                    if (!--group.r) {\n                        // this will result in `end()` being called,\n                        // so we don't need to clean up here\n                        run_all(group.c);\n                    }\n                    return false;\n                }\n                if (now >= start_time) {\n                    const t = easing((now - start_time) / duration);\n                    tick(1 - t, t);\n                }\n            }\n            return running;\n        });\n    }\n    if (is_function(config)) {\n        wait().then(() => {\n            // @ts-ignore\n            config = config();\n            go();\n        });\n    }\n    else {\n        go();\n    }\n    return {\n        end(reset) {\n            if (reset && config.tick) {\n                config.tick(1, 0);\n            }\n            if (running) {\n                if (animation_name)\n                    delete_rule(node, animation_name);\n                running = false;\n            }\n        }\n    };\n}\nfunction create_bidirectional_transition(node, fn, params, intro) {\n    let config = fn(node, params);\n    let t = intro ? 0 : 1;\n    let running_program = null;\n    let pending_program = null;\n    let animation_name = null;\n    function clear_animation() {\n        if (animation_name)\n            delete_rule(node, animation_name);\n    }\n    function init(program, duration) {\n        const d = program.b - t;\n        duration *= Math.abs(d);\n        return {\n            a: t,\n            b: program.b,\n            d,\n            duration,\n            start: program.start,\n            end: program.start + duration,\n            group: program.group\n        };\n    }\n    function go(b) {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config || null_transition;\n        const program = {\n            start: now() + delay,\n            b\n        };\n        if (!b) {\n            // @ts-ignore todo: improve typings\n            program.group = outros;\n            outros.r += 1;\n        }\n        if (running_program || pending_program) {\n            pending_program = program;\n        }\n        else {\n            // if this is an intro, and there's a delay, we need to do\n            // an initial tick and/or apply CSS animation immediately\n            if (css) {\n                clear_animation();\n                animation_name = create_rule(node, t, b, duration, delay, easing, css);\n            }\n            if (b)\n                tick(0, 1);\n            running_program = init(program, duration);\n            add_render_callback(() => dispatch(node, b, 'start'));\n            loop(now => {\n                if (pending_program && now > pending_program.start) {\n                    running_program = init(pending_program, duration);\n                    pending_program = null;\n                    dispatch(node, running_program.b, 'start');\n                    if (css) {\n                        clear_animation();\n                        animation_name = create_rule(node, t, running_program.b, running_program.duration, 0, easing, config.css);\n                    }\n                }\n                if (running_program) {\n                    if (now >= running_program.end) {\n                        tick(t = running_program.b, 1 - t);\n                        dispatch(node, running_program.b, 'end');\n                        if (!pending_program) {\n                            // we're done\n                            if (running_program.b) {\n                                // intro — we can tidy up immediately\n                                clear_animation();\n                            }\n                            else {\n                                // outro — needs to be coordinated\n                                if (!--running_program.group.r)\n                                    run_all(running_program.group.c);\n                            }\n                        }\n                        running_program = null;\n                    }\n                    else if (now >= running_program.start) {\n                        const p = now - running_program.start;\n                        t = running_program.a + running_program.d * easing(p / running_program.duration);\n                        tick(t, 1 - t);\n                    }\n                }\n                return !!(running_program || pending_program);\n            });\n        }\n    }\n    return {\n        run(b) {\n            if (is_function(config)) {\n                wait().then(() => {\n                    // @ts-ignore\n                    config = config();\n                    go(b);\n                });\n            }\n            else {\n                go(b);\n            }\n        },\n        end() {\n            clear_animation();\n            running_program = pending_program = null;\n        }\n    };\n}\n\nfunction handle_promise(promise, info) {\n    const token = info.token = {};\n    function update(type, index, key, value) {\n        if (info.token !== token)\n            return;\n        info.resolved = value;\n        let child_ctx = info.ctx;\n        if (key !== undefined) {\n            child_ctx = child_ctx.slice();\n            child_ctx[key] = value;\n        }\n        const block = type && (info.current = type)(child_ctx);\n        let needs_flush = false;\n        if (info.block) {\n            if (info.blocks) {\n                info.blocks.forEach((block, i) => {\n                    if (i !== index && block) {\n                        group_outros();\n                        transition_out(block, 1, 1, () => {\n                            if (info.blocks[i] === block) {\n                                info.blocks[i] = null;\n                            }\n                        });\n                        check_outros();\n                    }\n                });\n            }\n            else {\n                info.block.d(1);\n            }\n            block.c();\n            transition_in(block, 1);\n            block.m(info.mount(), info.anchor);\n            needs_flush = true;\n        }\n        info.block = block;\n        if (info.blocks)\n            info.blocks[index] = block;\n        if (needs_flush) {\n            flush();\n        }\n    }\n    if (is_promise(promise)) {\n        const current_component = get_current_component();\n        promise.then(value => {\n            set_current_component(current_component);\n            update(info.then, 1, info.value, value);\n            set_current_component(null);\n        }, error => {\n            set_current_component(current_component);\n            update(info.catch, 2, info.error, error);\n            set_current_component(null);\n            if (!info.hasCatch) {\n                throw error;\n            }\n        });\n        // if we previously had a then/catch block, destroy it\n        if (info.current !== info.pending) {\n            update(info.pending, 0);\n            return true;\n        }\n    }\n    else {\n        if (info.current !== info.then) {\n            update(info.then, 1, info.value, promise);\n            return true;\n        }\n        info.resolved = promise;\n    }\n}\n\nconst globals = (typeof window !== 'undefined'\n    ? window\n    : typeof globalThis !== 'undefined'\n        ? globalThis\n        : global);\n\nfunction destroy_block(block, lookup) {\n    block.d(1);\n    lookup.delete(block.key);\n}\nfunction outro_and_destroy_block(block, lookup) {\n    transition_out(block, 1, 1, () => {\n        lookup.delete(block.key);\n    });\n}\nfunction fix_and_destroy_block(block, lookup) {\n    block.f();\n    destroy_block(block, lookup);\n}\nfunction fix_and_outro_and_destroy_block(block, lookup) {\n    block.f();\n    outro_and_destroy_block(block, lookup);\n}\nfunction update_keyed_each(old_blocks, dirty, get_key, dynamic, ctx, list, lookup, node, destroy, create_each_block, next, get_context) {\n    let o = old_blocks.length;\n    let n = list.length;\n    let i = o;\n    const old_indexes = {};\n    while (i--)\n        old_indexes[old_blocks[i].key] = i;\n    const new_blocks = [];\n    const new_lookup = new Map();\n    const deltas = new Map();\n    i = n;\n    while (i--) {\n        const child_ctx = get_context(ctx, list, i);\n        const key = get_key(child_ctx);\n        let block = lookup.get(key);\n        if (!block) {\n            block = create_each_block(key, child_ctx);\n            block.c();\n        }\n        else if (dynamic) {\n            block.p(child_ctx, dirty);\n        }\n        new_lookup.set(key, new_blocks[i] = block);\n        if (key in old_indexes)\n            deltas.set(key, Math.abs(i - old_indexes[key]));\n    }\n    const will_move = new Set();\n    const did_move = new Set();\n    function insert(block) {\n        transition_in(block, 1);\n        block.m(node, next);\n        lookup.set(block.key, block);\n        next = block.first;\n        n--;\n    }\n    while (o && n) {\n        const new_block = new_blocks[n - 1];\n        const old_block = old_blocks[o - 1];\n        const new_key = new_block.key;\n        const old_key = old_block.key;\n        if (new_block === old_block) {\n            // do nothing\n            next = new_block.first;\n            o--;\n            n--;\n        }\n        else if (!new_lookup.has(old_key)) {\n            // remove old block\n            destroy(old_block, lookup);\n            o--;\n        }\n        else if (!lookup.has(new_key) || will_move.has(new_key)) {\n            insert(new_block);\n        }\n        else if (did_move.has(old_key)) {\n            o--;\n        }\n        else if (deltas.get(new_key) > deltas.get(old_key)) {\n            did_move.add(new_key);\n            insert(new_block);\n        }\n        else {\n            will_move.add(old_key);\n            o--;\n        }\n    }\n    while (o--) {\n        const old_block = old_blocks[o];\n        if (!new_lookup.has(old_block.key))\n            destroy(old_block, lookup);\n    }\n    while (n)\n        insert(new_blocks[n - 1]);\n    return new_blocks;\n}\nfunction validate_each_keys(ctx, list, get_context, get_key) {\n    const keys = new Set();\n    for (let i = 0; i < list.length; i++) {\n        const key = get_key(get_context(ctx, list, i));\n        if (keys.has(key)) {\n            throw new Error('Cannot have duplicate keys in a keyed each');\n        }\n        keys.add(key);\n    }\n}\n\nfunction get_spread_update(levels, updates) {\n    const update = {};\n    const to_null_out = {};\n    const accounted_for = { $$scope: 1 };\n    let i = levels.length;\n    while (i--) {\n        const o = levels[i];\n        const n = updates[i];\n        if (n) {\n            for (const key in o) {\n                if (!(key in n))\n                    to_null_out[key] = 1;\n            }\n            for (const key in n) {\n                if (!accounted_for[key]) {\n                    update[key] = n[key];\n                    accounted_for[key] = 1;\n                }\n            }\n            levels[i] = n;\n        }\n        else {\n            for (const key in o) {\n                accounted_for[key] = 1;\n            }\n        }\n    }\n    for (const key in to_null_out) {\n        if (!(key in update))\n            update[key] = undefined;\n    }\n    return update;\n}\nfunction get_spread_object(spread_props) {\n    return typeof spread_props === 'object' && spread_props !== null ? spread_props : {};\n}\n\n// source: https://html.spec.whatwg.org/multipage/indices.html\nconst boolean_attributes = new Set([\n    'allowfullscreen',\n    'allowpaymentrequest',\n    'async',\n    'autofocus',\n    'autoplay',\n    'checked',\n    'controls',\n    'default',\n    'defer',\n    'disabled',\n    'formnovalidate',\n    'hidden',\n    'ismap',\n    'loop',\n    'multiple',\n    'muted',\n    'nomodule',\n    'novalidate',\n    'open',\n    'playsinline',\n    'readonly',\n    'required',\n    'reversed',\n    'selected'\n]);\n\nconst invalid_attribute_name_character = /[\\s'\">/=\\u{FDD0}-\\u{FDEF}\\u{FFFE}\\u{FFFF}\\u{1FFFE}\\u{1FFFF}\\u{2FFFE}\\u{2FFFF}\\u{3FFFE}\\u{3FFFF}\\u{4FFFE}\\u{4FFFF}\\u{5FFFE}\\u{5FFFF}\\u{6FFFE}\\u{6FFFF}\\u{7FFFE}\\u{7FFFF}\\u{8FFFE}\\u{8FFFF}\\u{9FFFE}\\u{9FFFF}\\u{AFFFE}\\u{AFFFF}\\u{BFFFE}\\u{BFFFF}\\u{CFFFE}\\u{CFFFF}\\u{DFFFE}\\u{DFFFF}\\u{EFFFE}\\u{EFFFF}\\u{FFFFE}\\u{FFFFF}\\u{10FFFE}\\u{10FFFF}]/u;\n// https://html.spec.whatwg.org/multipage/syntax.html#attributes-2\n// https://infra.spec.whatwg.org/#noncharacter\nfunction spread(args, classes_to_add) {\n    const attributes = Object.assign({}, ...args);\n    if (classes_to_add) {\n        if (attributes.class == null) {\n            attributes.class = classes_to_add;\n        }\n        else {\n            attributes.class += ' ' + classes_to_add;\n        }\n    }\n    let str = '';\n    Object.keys(attributes).forEach(name => {\n        if (invalid_attribute_name_character.test(name))\n            return;\n        const value = attributes[name];\n        if (value === true)\n            str += ' ' + name;\n        else if (boolean_attributes.has(name.toLowerCase())) {\n            if (value)\n                str += ' ' + name;\n        }\n        else if (value != null) {\n            str += ` ${name}=\"${String(value).replace(/\"/g, '&#34;').replace(/'/g, '&#39;')}\"`;\n        }\n    });\n    return str;\n}\nconst escaped = {\n    '\"': '&quot;',\n    \"'\": '&#39;',\n    '&': '&amp;',\n    '<': '&lt;',\n    '>': '&gt;'\n};\nfunction escape(html) {\n    return String(html).replace(/[\"'&<>]/g, match => escaped[match]);\n}\nfunction each(items, fn) {\n    let str = '';\n    for (let i = 0; i < items.length; i += 1) {\n        str += fn(items[i], i);\n    }\n    return str;\n}\nconst missing_component = {\n    $$render: () => ''\n};\nfunction validate_component(component, name) {\n    if (!component || !component.$$render) {\n        if (name === 'svelte:component')\n            name += ' this={...}';\n        throw new Error(`<${name}> is not a valid SSR component. You may need to review your build config to ensure that dependencies are compiled, rather than imported as pre-compiled modules`);\n    }\n    return component;\n}\nfunction debug(file, line, column, values) {\n    console.log(`{@debug} ${file ? file + ' ' : ''}(${line}:${column})`); // eslint-disable-line no-console\n    console.log(values); // eslint-disable-line no-console\n    return '';\n}\nlet on_destroy;\nfunction create_ssr_component(fn) {\n    function $$render(result, props, bindings, slots, context) {\n        const parent_component = current_component;\n        const $$ = {\n            on_destroy,\n            context: new Map(parent_component ? parent_component.$$.context : context || []),\n            // these will be immediately discarded\n            on_mount: [],\n            before_update: [],\n            after_update: [],\n            callbacks: blank_object()\n        };\n        set_current_component({ $$ });\n        const html = fn(result, props, bindings, slots);\n        set_current_component(parent_component);\n        return html;\n    }\n    return {\n        render: (props = {}, { $$slots = {}, context = new Map() } = {}) => {\n            on_destroy = [];\n            const result = { title: '', head: '', css: new Set() };\n            const html = $$render(result, props, {}, $$slots, context);\n            run_all(on_destroy);\n            return {\n                html,\n                css: {\n                    code: Array.from(result.css).map(css => css.code).join('\\n'),\n                    map: null // TODO\n                },\n                head: result.title + result.head\n            };\n        },\n        $$render\n    };\n}\nfunction add_attribute(name, value, boolean) {\n    if (value == null || (boolean && !value))\n        return '';\n    return ` ${name}${value === true ? '' : `=${typeof value === 'string' ? JSON.stringify(escape(value)) : `\"${value}\"`}`}`;\n}\nfunction add_classes(classes) {\n    return classes ? ` class=\"${classes}\"` : '';\n}\n\nfunction bind(component, name, callback) {\n    const index = component.$$.props[name];\n    if (index !== undefined) {\n        component.$$.bound[index] = callback;\n        callback(component.$$.ctx[index]);\n    }\n}\nfunction create_component(block) {\n    block && block.c();\n}\nfunction claim_component(block, parent_nodes) {\n    block && block.l(parent_nodes);\n}\nfunction mount_component(component, target, anchor, customElement) {\n    const { fragment, on_mount, on_destroy, after_update } = component.$$;\n    fragment && fragment.m(target, anchor);\n    if (!customElement) {\n        // onMount happens before the initial afterUpdate\n        add_render_callback(() => {\n            const new_on_destroy = on_mount.map(run).filter(is_function);\n            if (on_destroy) {\n                on_destroy.push(...new_on_destroy);\n            }\n            else {\n                // Edge case - component was destroyed immediately,\n                // most likely as a result of a binding initialising\n                run_all(new_on_destroy);\n            }\n            component.$$.on_mount = [];\n        });\n    }\n    after_update.forEach(add_render_callback);\n}\nfunction destroy_component(component, detaching) {\n    const $$ = component.$$;\n    if ($$.fragment !== null) {\n        run_all($$.on_destroy);\n        $$.fragment && $$.fragment.d(detaching);\n        // TODO null out other refs, including component.$$ (but need to\n        // preserve final state?)\n        $$.on_destroy = $$.fragment = null;\n        $$.ctx = [];\n    }\n}\nfunction make_dirty(component, i) {\n    if (component.$$.dirty[0] === -1) {\n        dirty_components.push(component);\n        schedule_update();\n        component.$$.dirty.fill(0);\n    }\n    component.$$.dirty[(i / 31) | 0] |= (1 << (i % 31));\n}\nfunction init(component, options, instance, create_fragment, not_equal, props, dirty = [-1]) {\n    const parent_component = current_component;\n    set_current_component(component);\n    const $$ = component.$$ = {\n        fragment: null,\n        ctx: null,\n        // state\n        props,\n        update: noop,\n        not_equal,\n        bound: blank_object(),\n        // lifecycle\n        on_mount: [],\n        on_destroy: [],\n        on_disconnect: [],\n        before_update: [],\n        after_update: [],\n        context: new Map(parent_component ? parent_component.$$.context : options.context || []),\n        // everything else\n        callbacks: blank_object(),\n        dirty,\n        skip_bound: false\n    };\n    let ready = false;\n    $$.ctx = instance\n        ? instance(component, options.props || {}, (i, ret, ...rest) => {\n            const value = rest.length ? rest[0] : ret;\n            if ($$.ctx && not_equal($$.ctx[i], $$.ctx[i] = value)) {\n                if (!$$.skip_bound && $$.bound[i])\n                    $$.bound[i](value);\n                if (ready)\n                    make_dirty(component, i);\n            }\n            return ret;\n        })\n        : [];\n    $$.update();\n    ready = true;\n    run_all($$.before_update);\n    // `false` as a special case of no DOM component\n    $$.fragment = create_fragment ? create_fragment($$.ctx) : false;\n    if (options.target) {\n        if (options.hydrate) {\n            const nodes = children(options.target);\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            $$.fragment && $$.fragment.l(nodes);\n            nodes.forEach(detach);\n        }\n        else {\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            $$.fragment && $$.fragment.c();\n        }\n        if (options.intro)\n            transition_in(component.$$.fragment);\n        mount_component(component, options.target, options.anchor, options.customElement);\n        flush();\n    }\n    set_current_component(parent_component);\n}\nlet SvelteElement;\nif (typeof HTMLElement === 'function') {\n    SvelteElement = class extends HTMLElement {\n        constructor() {\n            super();\n            this.attachShadow({ mode: 'open' });\n        }\n        connectedCallback() {\n            const { on_mount } = this.$$;\n            this.$$.on_disconnect = on_mount.map(run).filter(is_function);\n            // @ts-ignore todo: improve typings\n            for (const key in this.$$.slotted) {\n                // @ts-ignore todo: improve typings\n                this.appendChild(this.$$.slotted[key]);\n            }\n        }\n        attributeChangedCallback(attr, _oldValue, newValue) {\n            this[attr] = newValue;\n        }\n        disconnectedCallback() {\n            run_all(this.$$.on_disconnect);\n        }\n        $destroy() {\n            destroy_component(this, 1);\n            this.$destroy = noop;\n        }\n        $on(type, callback) {\n            // TODO should this delegate to addEventListener?\n            const callbacks = (this.$$.callbacks[type] || (this.$$.callbacks[type] = []));\n            callbacks.push(callback);\n            return () => {\n                const index = callbacks.indexOf(callback);\n                if (index !== -1)\n                    callbacks.splice(index, 1);\n            };\n        }\n        $set($$props) {\n            if (this.$$set && !is_empty($$props)) {\n                this.$$.skip_bound = true;\n                this.$$set($$props);\n                this.$$.skip_bound = false;\n            }\n        }\n    };\n}\n/**\n * Base class for Svelte components. Used when dev=false.\n */\nclass SvelteComponent {\n    $destroy() {\n        destroy_component(this, 1);\n        this.$destroy = noop;\n    }\n    $on(type, callback) {\n        const callbacks = (this.$$.callbacks[type] || (this.$$.callbacks[type] = []));\n        callbacks.push(callback);\n        return () => {\n            const index = callbacks.indexOf(callback);\n            if (index !== -1)\n                callbacks.splice(index, 1);\n        };\n    }\n    $set($$props) {\n        if (this.$$set && !is_empty($$props)) {\n            this.$$.skip_bound = true;\n            this.$$set($$props);\n            this.$$.skip_bound = false;\n        }\n    }\n}\n\nfunction dispatch_dev(type, detail) {\n    document.dispatchEvent(custom_event(type, Object.assign({ version: '3.37.0' }, detail)));\n}\nfunction append_dev(target, node) {\n    dispatch_dev('SvelteDOMInsert', { target, node });\n    append(target, node);\n}\nfunction insert_dev(target, node, anchor) {\n    dispatch_dev('SvelteDOMInsert', { target, node, anchor });\n    insert(target, node, anchor);\n}\nfunction detach_dev(node) {\n    dispatch_dev('SvelteDOMRemove', { node });\n    detach(node);\n}\nfunction detach_between_dev(before, after) {\n    while (before.nextSibling && before.nextSibling !== after) {\n        detach_dev(before.nextSibling);\n    }\n}\nfunction detach_before_dev(after) {\n    while (after.previousSibling) {\n        detach_dev(after.previousSibling);\n    }\n}\nfunction detach_after_dev(before) {\n    while (before.nextSibling) {\n        detach_dev(before.nextSibling);\n    }\n}\nfunction listen_dev(node, event, handler, options, has_prevent_default, has_stop_propagation) {\n    const modifiers = options === true ? ['capture'] : options ? Array.from(Object.keys(options)) : [];\n    if (has_prevent_default)\n        modifiers.push('preventDefault');\n    if (has_stop_propagation)\n        modifiers.push('stopPropagation');\n    dispatch_dev('SvelteDOMAddEventListener', { node, event, handler, modifiers });\n    const dispose = listen(node, event, handler, options);\n    return () => {\n        dispatch_dev('SvelteDOMRemoveEventListener', { node, event, handler, modifiers });\n        dispose();\n    };\n}\nfunction attr_dev(node, attribute, value) {\n    attr(node, attribute, value);\n    if (value == null)\n        dispatch_dev('SvelteDOMRemoveAttribute', { node, attribute });\n    else\n        dispatch_dev('SvelteDOMSetAttribute', { node, attribute, value });\n}\nfunction prop_dev(node, property, value) {\n    node[property] = value;\n    dispatch_dev('SvelteDOMSetProperty', { node, property, value });\n}\nfunction dataset_dev(node, property, value) {\n    node.dataset[property] = value;\n    dispatch_dev('SvelteDOMSetDataset', { node, property, value });\n}\nfunction set_data_dev(text, data) {\n    data = '' + data;\n    if (text.wholeText === data)\n        return;\n    dispatch_dev('SvelteDOMSetData', { node: text, data });\n    text.data = data;\n}\nfunction validate_each_argument(arg) {\n    if (typeof arg !== 'string' && !(arg && typeof arg === 'object' && 'length' in arg)) {\n        let msg = '{#each} only iterates over array-like objects.';\n        if (typeof Symbol === 'function' && arg && Symbol.iterator in arg) {\n            msg += ' You can use a spread to convert this iterable into an array.';\n        }\n        throw new Error(msg);\n    }\n}\nfunction validate_slots(name, slot, keys) {\n    for (const slot_key of Object.keys(slot)) {\n        if (!~keys.indexOf(slot_key)) {\n            console.warn(`<${name}> received an unexpected slot \"${slot_key}\".`);\n        }\n    }\n}\n/**\n * Base class for Svelte components with some minor dev-enhancements. Used when dev=true.\n */\nclass SvelteComponentDev extends SvelteComponent {\n    constructor(options) {\n        if (!options || (!options.target && !options.$$inline)) {\n            throw new Error(\"'target' is a required option\");\n        }\n        super();\n    }\n    $destroy() {\n        super.$destroy();\n        this.$destroy = () => {\n            console.warn('Component was already destroyed'); // eslint-disable-line no-console\n        };\n    }\n    $capture_state() { }\n    $inject_state() { }\n}\n/**\n * Base class to create strongly typed Svelte components.\n * This only exists for typing purposes and should be used in `.d.ts` files.\n *\n * ### Example:\n *\n * You have component library on npm called `component-library`, from which\n * you export a component called `MyComponent`. For Svelte+TypeScript users,\n * you want to provide typings. Therefore you create a `index.d.ts`:\n * ```ts\n * import { SvelteComponentTyped } from \"svelte\";\n * export class MyComponent extends SvelteComponentTyped<{foo: string}> {}\n * ```\n * Typing this makes it possible for IDEs like VS Code with the Svelte extension\n * to provide intellisense and to use the component like this in a Svelte file\n * with TypeScript:\n * ```svelte\n * <script lang=\"ts\">\n * \timport { MyComponent } from \"component-library\";\n * </script>\n * <MyComponent foo={'bar'} />\n * ```\n *\n * #### Why not make this part of `SvelteComponent(Dev)`?\n * Because\n * ```ts\n * class ASubclassOfSvelteComponent extends SvelteComponent<{foo: string}> {}\n * const component: typeof SvelteComponent = ASubclassOfSvelteComponent;\n * ```\n * will throw a type error, so we need to seperate the more strictly typed class.\n */\nclass SvelteComponentTyped extends SvelteComponentDev {\n    constructor(options) {\n        super(options);\n    }\n}\nfunction loop_guard(timeout) {\n    const start = Date.now();\n    return () => {\n        if (Date.now() - start > timeout) {\n            throw new Error('Infinite loop detected');\n        }\n    };\n}\n\nexport { HtmlTag, SvelteComponent, SvelteComponentDev, SvelteComponentTyped, SvelteElement, action_destroyer, add_attribute, add_classes, add_flush_callback, add_location, add_render_callback, add_resize_listener, add_transform, afterUpdate, append, append_dev, assign, attr, attr_dev, attribute_to_object, beforeUpdate, bind, binding_callbacks, blank_object, bubble, check_outros, children, claim_component, claim_element, claim_space, claim_text, clear_loops, component_subscribe, compute_rest_props, compute_slots, createEventDispatcher, create_animation, create_bidirectional_transition, create_component, create_in_transition, create_out_transition, create_slot, create_ssr_component, current_component, custom_event, dataset_dev, debug, destroy_block, destroy_component, destroy_each, detach, detach_after_dev, detach_before_dev, detach_between_dev, detach_dev, dirty_components, dispatch_dev, each, element, element_is, empty, escape, escaped, exclude_internal_props, fix_and_destroy_block, fix_and_outro_and_destroy_block, fix_position, flush, getContext, get_binding_group_value, get_current_component, get_custom_elements_slots, get_slot_changes, get_slot_context, get_spread_object, get_spread_update, get_store_value, globals, group_outros, handle_promise, hasContext, has_prop, identity, init, insert, insert_dev, intros, invalid_attribute_name_character, is_client, is_crossorigin, is_empty, is_function, is_promise, listen, listen_dev, loop, loop_guard, missing_component, mount_component, noop, not_equal, now, null_to_empty, object_without_properties, onDestroy, onMount, once, outro_and_destroy_block, prevent_default, prop_dev, query_selector_all, raf, run, run_all, safe_not_equal, schedule_update, select_multiple_value, select_option, select_options, select_value, self, setContext, set_attributes, set_current_component, set_custom_element_data, set_data, set_data_dev, set_input_type, set_input_value, set_now, set_raf, set_store_value, set_style, set_svg_attributes, space, spread, stop_propagation, subscribe, svg_element, text, tick, time_ranges_to_array, to_number, toggle_class, transition_in, transition_out, update_keyed_each, update_slot, update_slot_spread, validate_component, validate_each_argument, validate_each_keys, validate_slots, validate_store, xlink_attr };\n","export default function(x) {\n  return Math.abs(x = Math.round(x)) >= 1e21\n      ? x.toLocaleString(\"en\").replace(/,/g, \"\")\n      : x.toString(10);\n}\n\n// Computes the decimal coefficient and exponent of the specified number x with\n// significant digits p, where x is positive and p is in [1, 21] or undefined.\n// For example, formatDecimalParts(1.23) returns [\"123\", 0].\nexport function formatDecimalParts(x, p) {\n  if ((i = (x = p ? x.toExponential(p - 1) : x.toExponential()).indexOf(\"e\")) < 0) return null; // NaN, ±Infinity\n  var i, coefficient = x.slice(0, i);\n\n  // The string returned by toExponential either has the form \\d\\.\\d+e[-+]\\d+\n  // (e.g., 1.2e+3) or the form \\de[-+]\\d+ (e.g., 1e+3).\n  return [\n    coefficient.length > 1 ? coefficient[0] + coefficient.slice(2) : coefficient,\n    +x.slice(i + 1)\n  ];\n}\n","// [[fill]align][sign][symbol][0][width][,][.precision][~][type]\nvar re = /^(?:(.)?([<>=^]))?([+\\-( ])?([$#])?(0)?(\\d+)?(,)?(\\.\\d+)?(~)?([a-z%])?$/i;\n\nexport default function formatSpecifier(specifier) {\n  if (!(match = re.exec(specifier))) throw new Error(\"invalid format: \" + specifier);\n  var match;\n  return new FormatSpecifier({\n    fill: match[1],\n    align: match[2],\n    sign: match[3],\n    symbol: match[4],\n    zero: match[5],\n    width: match[6],\n    comma: match[7],\n    precision: match[8] && match[8].slice(1),\n    trim: match[9],\n    type: match[10]\n  });\n}\n\nformatSpecifier.prototype = FormatSpecifier.prototype; // instanceof\n\nexport function FormatSpecifier(specifier) {\n  this.fill = specifier.fill === undefined ? \" \" : specifier.fill + \"\";\n  this.align = specifier.align === undefined ? \">\" : specifier.align + \"\";\n  this.sign = specifier.sign === undefined ? \"-\" : specifier.sign + \"\";\n  this.symbol = specifier.symbol === undefined ? \"\" : specifier.symbol + \"\";\n  this.zero = !!specifier.zero;\n  this.width = specifier.width === undefined ? undefined : +specifier.width;\n  this.comma = !!specifier.comma;\n  this.precision = specifier.precision === undefined ? undefined : +specifier.precision;\n  this.trim = !!specifier.trim;\n  this.type = specifier.type === undefined ? \"\" : specifier.type + \"\";\n}\n\nFormatSpecifier.prototype.toString = function() {\n  return this.fill\n      + this.align\n      + this.sign\n      + this.symbol\n      + (this.zero ? \"0\" : \"\")\n      + (this.width === undefined ? \"\" : Math.max(1, this.width | 0))\n      + (this.comma ? \",\" : \"\")\n      + (this.precision === undefined ? \"\" : \".\" + Math.max(0, this.precision | 0))\n      + (this.trim ? \"~\" : \"\")\n      + this.type;\n};\n","import {formatDecimalParts} from \"./formatDecimal.js\";\n\nexport var prefixExponent;\n\nexport default function(x, p) {\n  var d = formatDecimalParts(x, p);\n  if (!d) return x + \"\";\n  var coefficient = d[0],\n      exponent = d[1],\n      i = exponent - (prefixExponent = Math.max(-8, Math.min(8, Math.floor(exponent / 3))) * 3) + 1,\n      n = coefficient.length;\n  return i === n ? coefficient\n      : i > n ? coefficient + new Array(i - n + 1).join(\"0\")\n      : i > 0 ? coefficient.slice(0, i) + \".\" + coefficient.slice(i)\n      : \"0.\" + new Array(1 - i).join(\"0\") + formatDecimalParts(x, Math.max(0, p + i - 1))[0]; // less than 1y!\n}\n","import {formatDecimalParts} from \"./formatDecimal.js\";\n\nexport default function(x, p) {\n  var d = formatDecimalParts(x, p);\n  if (!d) return x + \"\";\n  var coefficient = d[0],\n      exponent = d[1];\n  return exponent < 0 ? \"0.\" + new Array(-exponent).join(\"0\") + coefficient\n      : coefficient.length > exponent + 1 ? coefficient.slice(0, exponent + 1) + \".\" + coefficient.slice(exponent + 1)\n      : coefficient + new Array(exponent - coefficient.length + 2).join(\"0\");\n}\n","import formatDecimal from \"./formatDecimal.js\";\nimport formatPrefixAuto from \"./formatPrefixAuto.js\";\nimport formatRounded from \"./formatRounded.js\";\n\nexport default {\n  \"%\": (x, p) => (x * 100).toFixed(p),\n  \"b\": (x) => Math.round(x).toString(2),\n  \"c\": (x) => x + \"\",\n  \"d\": formatDecimal,\n  \"e\": (x, p) => x.toExponential(p),\n  \"f\": (x, p) => x.toFixed(p),\n  \"g\": (x, p) => x.toPrecision(p),\n  \"o\": (x) => Math.round(x).toString(8),\n  \"p\": (x, p) => formatRounded(x * 100, p),\n  \"r\": formatRounded,\n  \"s\": formatPrefixAuto,\n  \"X\": (x) => Math.round(x).toString(16).toUpperCase(),\n  \"x\": (x) => Math.round(x).toString(16)\n};\n","export default function(x) {\n  return x;\n}\n","import exponent from \"./exponent.js\";\nimport formatGroup from \"./formatGroup.js\";\nimport formatNumerals from \"./formatNumerals.js\";\nimport formatSpecifier from \"./formatSpecifier.js\";\nimport formatTrim from \"./formatTrim.js\";\nimport formatTypes from \"./formatTypes.js\";\nimport {prefixExponent} from \"./formatPrefixAuto.js\";\nimport identity from \"./identity.js\";\n\nvar map = Array.prototype.map,\n    prefixes = [\"y\",\"z\",\"a\",\"f\",\"p\",\"n\",\"µ\",\"m\",\"\",\"k\",\"M\",\"G\",\"T\",\"P\",\"E\",\"Z\",\"Y\"];\n\nexport default function(locale) {\n  var group = locale.grouping === undefined || locale.thousands === undefined ? identity : formatGroup(map.call(locale.grouping, Number), locale.thousands + \"\"),\n      currencyPrefix = locale.currency === undefined ? \"\" : locale.currency[0] + \"\",\n      currencySuffix = locale.currency === undefined ? \"\" : locale.currency[1] + \"\",\n      decimal = locale.decimal === undefined ? \".\" : locale.decimal + \"\",\n      numerals = locale.numerals === undefined ? identity : formatNumerals(map.call(locale.numerals, String)),\n      percent = locale.percent === undefined ? \"%\" : locale.percent + \"\",\n      minus = locale.minus === undefined ? \"−\" : locale.minus + \"\",\n      nan = locale.nan === undefined ? \"NaN\" : locale.nan + \"\";\n\n  function newFormat(specifier) {\n    specifier = formatSpecifier(specifier);\n\n    var fill = specifier.fill,\n        align = specifier.align,\n        sign = specifier.sign,\n        symbol = specifier.symbol,\n        zero = specifier.zero,\n        width = specifier.width,\n        comma = specifier.comma,\n        precision = specifier.precision,\n        trim = specifier.trim,\n        type = specifier.type;\n\n    // The \"n\" type is an alias for \",g\".\n    if (type === \"n\") comma = true, type = \"g\";\n\n    // The \"\" type, and any invalid type, is an alias for \".12~g\".\n    else if (!formatTypes[type]) precision === undefined && (precision = 12), trim = true, type = \"g\";\n\n    // If zero fill is specified, padding goes after sign and before digits.\n    if (zero || (fill === \"0\" && align === \"=\")) zero = true, fill = \"0\", align = \"=\";\n\n    // Compute the prefix and suffix.\n    // For SI-prefix, the suffix is lazily computed.\n    var prefix = symbol === \"$\" ? currencyPrefix : symbol === \"#\" && /[boxX]/.test(type) ? \"0\" + type.toLowerCase() : \"\",\n        suffix = symbol === \"$\" ? currencySuffix : /[%p]/.test(type) ? percent : \"\";\n\n    // What format function should we use?\n    // Is this an integer type?\n    // Can this type generate exponential notation?\n    var formatType = formatTypes[type],\n        maybeSuffix = /[defgprs%]/.test(type);\n\n    // Set the default precision if not specified,\n    // or clamp the specified precision to the supported range.\n    // For significant precision, it must be in [1, 21].\n    // For fixed precision, it must be in [0, 20].\n    precision = precision === undefined ? 6\n        : /[gprs]/.test(type) ? Math.max(1, Math.min(21, precision))\n        : Math.max(0, Math.min(20, precision));\n\n    function format(value) {\n      var valuePrefix = prefix,\n          valueSuffix = suffix,\n          i, n, c;\n\n      if (type === \"c\") {\n        valueSuffix = formatType(value) + valueSuffix;\n        value = \"\";\n      } else {\n        value = +value;\n\n        // Determine the sign. -0 is not less than 0, but 1 / -0 is!\n        var valueNegative = value < 0 || 1 / value < 0;\n\n        // Perform the initial formatting.\n        value = isNaN(value) ? nan : formatType(Math.abs(value), precision);\n\n        // Trim insignificant zeros.\n        if (trim) value = formatTrim(value);\n\n        // If a negative value rounds to zero after formatting, and no explicit positive sign is requested, hide the sign.\n        if (valueNegative && +value === 0 && sign !== \"+\") valueNegative = false;\n\n        // Compute the prefix and suffix.\n        valuePrefix = (valueNegative ? (sign === \"(\" ? sign : minus) : sign === \"-\" || sign === \"(\" ? \"\" : sign) + valuePrefix;\n        valueSuffix = (type === \"s\" ? prefixes[8 + prefixExponent / 3] : \"\") + valueSuffix + (valueNegative && sign === \"(\" ? \")\" : \"\");\n\n        // Break the formatted value into the integer “value” part that can be\n        // grouped, and fractional or exponential “suffix” part that is not.\n        if (maybeSuffix) {\n          i = -1, n = value.length;\n          while (++i < n) {\n            if (c = value.charCodeAt(i), 48 > c || c > 57) {\n              valueSuffix = (c === 46 ? decimal + value.slice(i + 1) : value.slice(i)) + valueSuffix;\n              value = value.slice(0, i);\n              break;\n            }\n          }\n        }\n      }\n\n      // If the fill character is not \"0\", grouping is applied before padding.\n      if (comma && !zero) value = group(value, Infinity);\n\n      // Compute the padding.\n      var length = valuePrefix.length + value.length + valueSuffix.length,\n          padding = length < width ? new Array(width - length + 1).join(fill) : \"\";\n\n      // If the fill character is \"0\", grouping is applied after padding.\n      if (comma && zero) value = group(padding + value, padding.length ? width - valueSuffix.length : Infinity), padding = \"\";\n\n      // Reconstruct the final output based on the desired alignment.\n      switch (align) {\n        case \"<\": value = valuePrefix + value + valueSuffix + padding; break;\n        case \"=\": value = valuePrefix + padding + value + valueSuffix; break;\n        case \"^\": value = padding.slice(0, length = padding.length >> 1) + valuePrefix + value + valueSuffix + padding.slice(length); break;\n        default: value = padding + valuePrefix + value + valueSuffix; break;\n      }\n\n      return numerals(value);\n    }\n\n    format.toString = function() {\n      return specifier + \"\";\n    };\n\n    return format;\n  }\n\n  function formatPrefix(specifier, value) {\n    var f = newFormat((specifier = formatSpecifier(specifier), specifier.type = \"f\", specifier)),\n        e = Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3,\n        k = Math.pow(10, -e),\n        prefix = prefixes[8 + e / 3];\n    return function(value) {\n      return f(k * value) + prefix;\n    };\n  }\n\n  return {\n    format: newFormat,\n    formatPrefix: formatPrefix\n  };\n}\n","import formatLocale from \"./locale.js\";\n\nvar locale;\nexport var format;\nexport var formatPrefix;\n\ndefaultLocale({\n  thousands: \",\",\n  grouping: [3],\n  currency: [\"$\", \"\"]\n});\n\nexport default function defaultLocale(definition) {\n  locale = formatLocale(definition);\n  format = locale.format;\n  formatPrefix = locale.formatPrefix;\n  return locale;\n}\n","export default function(grouping, thousands) {\n  return function(value, width) {\n    var i = value.length,\n        t = [],\n        j = 0,\n        g = grouping[0],\n        length = 0;\n\n    while (i > 0 && g > 0) {\n      if (length + g + 1 > width) g = Math.max(1, width - length);\n      t.push(value.substring(i -= g, i + g));\n      if ((length += g + 1) > width) break;\n      g = grouping[j = (j + 1) % grouping.length];\n    }\n\n    return t.reverse().join(thousands);\n  };\n}\n","export default function(numerals) {\n  return function(value) {\n    return value.replace(/[0-9]/g, function(i) {\n      return numerals[+i];\n    });\n  };\n}\n","// Trims insignificant zeros, e.g., replaces 1.2000k with 1.2k.\nexport default function(s) {\n  out: for (var n = s.length, i = 1, i0 = -1, i1; i < n; ++i) {\n    switch (s[i]) {\n      case \".\": i0 = i1 = i; break;\n      case \"0\": if (i0 === 0) i0 = i; i1 = i; break;\n      default: if (!+s[i]) break out; if (i0 > 0) i0 = 0; break;\n    }\n  }\n  return i0 > 0 ? s.slice(0, i0) + s.slice(i1 + 1) : s;\n}\n","import {formatDecimalParts} from \"./formatDecimal.js\";\n\nexport default function(x) {\n  return x = formatDecimalParts(Math.abs(x)), x ? x[1] : NaN;\n}\n","<svg viewBox=\"0,0,{width},{height}\">\n    <g stroke=\"#666\" stroke-width=\"0\">\n        {#each nodes as {x0, y0, x1, y1, text, value, color}}\n        <rect x={x0} y={y0} height={y1 - y0} width={x1 - x0} fill={color}>\n            <title>{`${text}\\n${format(value)}`}</title>\n        </rect>\n        {/each}\n    </g>\n    <g fill=\"none\" stroke-opacity=\"0.4\">\n        {#each links as link}\n        <g style=\"mix-blend-mode: multiply;\">\n            <linearGradient id={`link-${link.index}`}>\n                <stop offset=\"0%\" stop-color={link.source.color}></stop>\n                <stop offset=\"100%\" stop-color={link.target.color}></stop>\n            </linearGradient>\n            <path\n                d={d(link)}\n                stroke={`url('#link-${link.index}')`}\n                stroke-width={Math.max(1, link.width)}\n            />\n            <title>{`${link.source.text} → ${link.target.text}\\n${format(link.value)}`}</title>\n\n        </g>\n        {/each}\n    </g>\n    <g font-family=\"sans-serif\" font-size=\"10\">\n        {#each nodes as {x0, y0, x1, y1, text}}\n        <text \n            x={x0 < width / 2 ? x1 + 6 : x0 - 6} \n            y={(y1 + y0) / 2} \n            dy=\"0.35em\" \n            text-anchor={x0 < width / 2 ? \"start\" : \"end\"}\n        >\n        {text}\n        </text>\n        {/each}\n    </g>\n</svg>\n\n<style lang=\"scss\">\n\n</style>\n\n<script>\n    import {format} from 'd3-format'\n    import { sankeyLinkHorizontal } from 'd3-sankey'\n\n    export let width;\n    export let height;\n\n    export let nodes;\n    export let links;\n\n    const d = sankeyLinkHorizontal()\n\n</script>","//@ts-check\n\n// adapted from https://observablehq.com/@d3/sankey-diagram (ISC licence)\n\nimport sankeyLayout from './sankeyLayout.js'\nimport {nodesById, links as _links} from './budgetData.js'\nimport Sankey from './components/Sankey.svelte'\n\nconst width = 954;\nconst height = 600;\n\nconsole.log('nodesById, _links', nodesById, _links)\n\nconst { nodes, links } = sankeyLayout({\n    nodes: [...nodesById.values()],\n    links: _links, \n    height, \n    width\n})\n\nconsole.log('nodes, links', nodes, links)\n\nnew Sankey({\n    target: document.querySelector('.content'),\n    props: {\n        width,\n        height,\n        nodes,\n        links\n    }\n})\n","//@ts-check\n\nimport { sankey, sankeyJustify } from 'd3-sankey'\n\nexport default function({nodes, links, height, width}){\n\n    const _sankey = sankey()\n        .nodeId(d => d.id)\n        .nodeAlign(sankeyJustify)\n        .nodeWidth(15)\n        .nodePadding(15)\n        .extent([[1, 5], [width - 1, height - 5]]);\n\n    return _sankey({ nodes, links })\n}\n"],"names":["max","values","valueof","undefined","value","index","sum","justify","node","n","sourceLinks","length","depth","constant","x","ascendingSourceBreadth","a","b","ascendingBreadth","source","ascendingTargetBreadth","target","y0","d","defaultId","defaultNodes","graph","nodes","defaultLinks","links","find","nodeById","id","get","Error","computeLinkBreadths","y1","link","width","targetLinks","Sankey","py","sort","linkSort","x0","x1","dx","dy","align","iterations","sankey","apply","arguments","computeNodeLinks","computeNodeValues","computeNodeDepths","computeNodeHeights","computeNodeBreadths","i","entries","Map","map","push","fixedValue","Math","current","Set","next","size","add","height","columns","kx","Array","min","floor","call","layer","column","computeNodeLayers","c","ky","y","reorderLinks","initializeNodeBreadths","alpha","pow","beta","relaxRightToLeft","relaxLeftToRight","w","v","targetTop","reorderNodeLinks","resolveCollisions","sourceTop","subject","resolveCollisionsBottomToTop","resolveCollisionsTopToBottom","update","nodeId","_","nodeAlign","nodeSort","nodeWidth","nodePadding","extent","pi","PI","tau","epsilon","tauEpsilon","Path","this","_x0","_y0","_x1","_y1","path","p","prototype","constructor","moveTo","closePath","lineTo","quadraticCurveTo","bezierCurveTo","x2","y2","arcTo","r","x21","y21","x01","y01","l01_2","abs","x20","y20","l21_2","l20_2","l21","sqrt","l01","l","tan","acos","t01","t21","arc","a0","a1","ccw","cos","sin","cw","da","rect","h","toString","slice","linkSource","linkTarget","curveHorizontal","context","linkHorizontal","curve","pointX","pointY","buffer","argv","s","t","horizontalSource","horizontalTarget","area_color_1","area_color_2","area_color_3","area_color_4","nodesById","Object","RF","text","color","RI","DF","DI","RF_DotEtat","RF_FiscDirecte","RF_FiscIndirecte","RF_Divers","EP","DF_Solidarite","DF_Interventions","DF_Autres","I_Emprunt","I_Autres","DI_Remboursement","DI_Construction","DI_Subventions","noop","run","fn","blank_object","create","run_all","fns","forEach","is_function","thing","safe_not_equal","append","appendChild","insert","anchor","insertBefore","detach","parentNode","removeChild","destroy_each","detaching","svg_element","name","document","createElementNS","data","createTextNode","attr","attribute","removeAttribute","getAttribute","setAttribute","set_data","wholeText","current_component","set_current_component","component","dirty_components","binding_callbacks","render_callbacks","flush_callbacks","resolved_promise","Promise","resolve","update_scheduled","add_render_callback","flushing","seen_callbacks","flush","$$","pop","callback","has","clear","fragment","before_update","dirty","ctx","after_update","outroing","make_dirty","then","fill","init","options","instance","create_fragment","not_equal","props","parent_component","bound","on_mount","on_destroy","on_disconnect","callbacks","skip_bound","ready","ret","rest","hydrate","element","from","childNodes","intro","block","delete","local","customElement","m","new_on_destroy","filter","mount_component","formatDecimalParts","toExponential","indexOf","coefficient","prefixExponent","re","formatSpecifier","specifier","match","exec","FormatSpecifier","sign","symbol","zero","comma","precision","trim","type","exponent","join","%","toFixed","round","toLocaleString","replace","e","f","g","toPrecision","o","formatRounded","X","toUpperCase","locale","format","prefixes","grouping","thousands","group","identity","Number","j","substring","reverse","currencyPrefix","currency","currencySuffix","decimal","numerals","formatNumerals","String","percent","minus","nan","newFormat","formatTypes","prefix","test","toLowerCase","suffix","formatType","maybeSuffix","valuePrefix","valueSuffix","valueNegative","isNaN","out","i1","i0","formatTrim","charCodeAt","Infinity","padding","formatPrefix","NaN","k","key","important","style","setProperty","formatLocale","console","log","_links","sankeyJustify","_sankey","sankeyLayout","[object Object]","destroy_component","$destroy","splice","$$props","obj","$$set","keys","querySelector"],"mappings":"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"}